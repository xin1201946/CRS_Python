import{$ as e,a0 as t,u as n,b as s,q as i,r as o,j as r,a1 as a,a2 as l,g as c,P as d,n as u,a3 as h,a4 as m}from"./index-k2JO1M9C.js";import{B as x}from"./index-1h1oPJTk.js";import{C as y}from"./index-B1G5Fgek.js";import{S as f}from"./index-BewOyLsF.js";import{T as p}from"./index-C9NxgC6G.js";import{C as g}from"./index-B8O6Tzqf.js";import{A as j}from"./index-BsLn0wwa.js";import{u as w}from"./useTranslation-Bb5d4rEj.js";function v(e,n){[...n].reverse().forEach((s=>{const i=e.getVariant(s);i&&t(e,i),e.variantChildren&&e.variantChildren.forEach((e=>{v(e,n)}))}))}function C(){const n=new Set,s={subscribe:e=>(n.add(e),()=>{n.delete(e)}),start(t,s){const i=[];return n.forEach((n=>{i.push(e(n,t,{transitionOverride:s}))})),Promise.all(i)},set:e=>n.forEach((n=>{!function(e,n){Array.isArray(n)?v(e,n):"string"==typeof n?v(e,[n]):t(e,n)}(n,e)})),stop(){n.forEach((e=>{!function(e){e.values.forEach((e=>e.stop()))}(e)}))},mount:()=>()=>{s.stop()}};return s}const b=function(){const e=n(C);return s(e.mount,[]),e};const E=i((function(e){return o.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm1.5-16.5v4.88l3.56 3.56a1.5 1.5 0 0 1-2.12 2.12l-4-4A1.5 1.5 0 0 1 10.5 12V6.5a1.5 1.5 0 0 1 3 0Z",fill:"currentColor"}))}),"clock");function S({title:e,message:t,showTime:n,type:s,extra:i=null,onClose:d=null,id:u,newTagList:h=[],noOffsetScreen:m=!1}){const x=u,y=b(),[w,v]=o.useState("gray"),[C,S]=o.useState(!1),T=()=>{null!==d&&(S(!0),d(x))},N=null==i?r.jsxs(f,{className:"CustomNotify_Footer_Space",style:{width:"100%"},children:[r.jsxs(f,{style:{width:"90%"},wrap:!0,children:[r.jsxs(p,{color:"warning"===s?"yellow":"danger"===s?"red":"success"===s?"green":"violet",type:"ghost",style:{margin:0},children:[" ",s," "]}),r.jsxs(p,{color:"cyan",prefixIcon:r.jsx(E,{style:{color:"cyan"}}),type:"ghost",style:{margin:0},children:[" ",n," "]}),h.length>0?h.map((({msg:e,icon:t,color:n,type:s})=>r.jsxs(p,{color:null==n?"green":n,prefixIcon:null==t?null:t,type:null==s?"ghost":s,style:{margin:0},children:["",e,""]}))):r.jsx(r.Fragment,{})]}),r.jsx(a,{onMouseEnter:()=>v("orangered"),onMouseLeave:()=>v("gray"),className:"CustomNotify_Footer_Space_IconButton",theme:"borderless",icon:r.jsx(l,{style:{color:w}}),onClick:T})]}):i,[_,k]=o.useState(!1),[L,A]=o.useState(r.jsxs(r.Fragment,{children:[null==t||t===r.jsx(r.Fragment,{})||"object"==typeof t?e:t," ",N]})),F=n=>{A(n?t:r.jsxs(r.Fragment,{children:[null==t||t===r.jsx(r.Fragment,{})||"object"==typeof t?e:t," ",N]}))};return r.jsx(r.Fragment,{children:r.jsx(j,{children:r.jsx(c.div,{initial:{opacity:1,x:0},animate:y,exit:{opacity:1},drag:"x",dragConstraints:{left:0,right:0},dragElastic:.2,onPanStart:()=>{S(!0)},onPanEnd:(e,t)=>{S(!1),null===d?y.start({x:0}):m?y.start({x:0}).then(T):t.offset.x>200?y.start({x:window.innerWidth,opacity:0}).then(T):t.offset.x<-200?y.start({x:-window.innerWidth,opacity:0}).then(T):y.start({x:0})},children:r.jsx(g,{bordered:!0,style:{margin:"10px"},shadows:"hover",title:_?e:null,footerLine:!1,footer:_?N:null,headerLine:!1,onClick:async()=>{C?S(!1):(await(async()=>{await y.start({opacity:0,transition:{duration:.3}})})(),k((e=>{const t=!e;return F(t),t})),await(async()=>{await y.start({opacity:1,transition:{duration:.3}})})())},children:L})})})})}function T(){const{t:e}=w(),{notifys:t,removing:n,handleClose:s,handleClearAll:i}=function(){const[e,t]=o.useState([]),[n,s]=o.useState([]),i=o.useCallback((()=>{const e=h();t(e)}),[]),r=o.useCallback((e=>{s((t=>[...t,e])),setTimeout((()=>{m(e),i(),s((t=>t.filter((t=>t!==e))))}),300)}),[i]),a=o.useCallback((()=>{s(e.map((e=>e.id))),setTimeout((()=>{t([]),s([]),m()}),300)}),[e]);return o.useEffect((()=>{i()}),[i]),{notifys:e,removing:n,handleClose:r,handleClearAll:a,fetchNotifyList:i}}(),d=function(){const[e,t]=o.useState(window.innerWidth);return o.useEffect((()=>{const e=()=>t(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),e}(),g="1"===u("notify_card"),v=({id:e,title:t,content:i,type:o,time:a})=>{const l={key:e,className:n.includes(e)?"slide-out":""};return g?r.jsx(y.Panel,{...l,header:t,itemKey:e,showArrow:!1,extra:r.jsxs(f,{children:[r.jsx(p,{color:"violet",type:"ghost",style:{margin:0},children:o}),r.jsx(p,{color:"cyan",prefixIcon:r.jsx(E,{style:{color:"cyan"}}),type:"ghost",style:{margin:0},children:a})]}),children:r.jsx(x,{fullMode:!1,title:t,description:r.jsx(f,{vertical:!0,children:i}),type:o,onClose:()=>s(e),style:{marginBottom:"12px",transition:"all 0.3s ease"}})}):r.jsx(S,{...l,title:t,message:i,showTime:a,type:o,id:e,onClose:()=>s(e)})};return r.jsxs("div",{style:{padding:"16px",position:"relative"},children:[r.jsx(y,{className:"Notify_center_Conner",accordion:!0,children:r.jsx(j,{children:t.length>0?t.map((e=>r.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3,ease:"easeOut"},children:v(e)},e.id))):r.jsx(c.p,{initial:{opacity:0},animate:{opacity:1},style:{textAlign:"center",color:"var(--semi-color-text-2)"},children:e("No_notifications_available")})})}),t.length>0&&r.jsx(a,{theme:"light",icon:r.jsx(l,{}),style:{left:d/2-20,bottom:"10%",zIndex:9999,position:"fixed",borderRadius:"20px",backgroundColor:"var(--semi-color-bg-4)"},onClick:i})]})}S.propTypes={title:d.string.isRequired,message:d.node.isRequired,showTime:d.string.isRequired,type:d.string.isRequired,extra:d.node,id:d.string,onClose:d.func,newTagList:d.array,noOffsetScreen:d.bool},S.defaultProps={extra:null,newTagList:[],onClose:null,noOffsetScreen:!1};export{T as N};
