import{b as e,R as r,P as t}from"./index-CCsViYEm.js";import{bT as o,b0 as s,b4 as n,k as i,aW as l}from"./AppContent-DzAY2IDB.js";var a,p;function c(){if(p)return a;p=1;var e=o(),r=s(),t=n();return a=function(o){return"string"==typeof o||!r(o)&&t(o)&&"[object String]"==e(o)}}const h=e(c());var v,d;const u=e(d?v:(d=1,v=function(e){return void 0===e}));var b,f;(f=b||(b={})).Width="width",f.Height="height",f.All="all";class m extends i{constructor(e){var r;super(e),r=this,this.formerPropertyValue=new Map,this.getElement=()=>{try{return l.findDOMNode(this.childNode||this)}catch(e){return null}},this.handleResizeEventTriggered=e=>{var r,t,o,s;if(this.props.observerProperty===b.All)null===(t=(r=this.props).onResize)||void 0===t||t.call(r,e);else{const r=[];for(const t of e)this.formerPropertyValue.has(t.target)?t.contentRect[this.props.observerProperty]!==this.formerPropertyValue.get(t.target)&&(this.formerPropertyValue.set(t.target,t.contentRect[this.props.observerProperty]),r.push(t)):(this.formerPropertyValue.set(t.target,t.contentRect[this.props.observerProperty]),r.push(t));r.length>0&&(null===(s=(o=this.props).onResize)||void 0===s||s.call(o,r))}},this.observeElement=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=r.getElement();r.observer||(r.observer=new ResizeObserver(r.handleResizeEventTriggered)),t&&t instanceof Element?(t!==r.element||e)&&(r.observer.disconnect(),r.element=t,r.observer.observe(t),r.props.observeParent&&t.parentNode&&t.parentNode.ownerDocument&&t.parentNode.ownerDocument.defaultView&&t.parentNode instanceof t.parentNode.ownerDocument.defaultView.HTMLElement&&(r._parentNode=t.parentNode,r.observer.observe(r._parentNode))):r.observer.disconnect()},this.mergeRef=(e,r)=>{this.childNode=r,"function"==typeof e?e(r):"object"==typeof e&&e&&"current"in e&&(e.current=r)},globalThis.ResizeObserver&&(this.observer=new ResizeObserver(this.handleResizeEventTriggered))}componentDidMount(){var e;null===(e=this.observeElement)||void 0===e||e.call(this)}componentDidUpdate(e){var r;null===(r=this.observeElement)||void 0===r||r.call(this,this.props.observeParent!==e.observeParent)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null,this.element=null)}render(){const e=r.Children.only(this.props.children),{ref:t}=e;return r.cloneElement(e,{ref:e=>this.mergeRef(t,e)})}}m.propTypes={onResize:t.func,observeParent:t.bool,observerProperty:t.string,delayTick:t.number},m.defaultProps={onResize:()=>{},observeParent:!1,observerProperty:"all",delayTick:0};export{b as O,m as R,h as _,u as a,c as r};
