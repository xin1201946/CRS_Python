import{B as e,z as t,D as s,a3 as n,R as a,L as r,N as i,F as o,ac as l,a0 as c,ad as d,$ as p,P as m}from"./index-CiQzaChg.js";import{T as u}from"./index-CpoOHKow.js";const h={PREFIX:`${e}-banner`};class b extends t{constructor(e){super(Object.assign(Object.assign({},b.defaultAdapter),e))}removeBanner(e){this._adapter.notifyClose(e),this._adapter.setVisible()}}const g=h.PREFIX,f=["info","success","danger","warning"];class v extends s{constructor(e){super(e),this.remove=e=>{e&&e.stopPropagation(),this.foundation.removeBanner(e)},this.state={visible:!0},n("target"in this.props,"[Semi Banner] 'target' has been deprecated, please write JSX directly instead.")}get adapter(){return Object.assign(Object.assign({},super.adapter),{setVisible:()=>{this.setState({visible:!1})},notifyClose:e=>{const{onClose:t}=this.props;t(e)}})}componentDidMount(){this.foundation=new b(this.adapter),this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}renderCloser(){const{closeIcon:e}=this.props;if(null===e)return e;return a.createElement(r,{className:`${g}-close`,onClick:this.remove,icon:e||a.createElement(i,{"x-semi-prop":"closeIcon","aria-hidden":!0}),theme:"borderless",size:"small",type:"tertiary","aria-label":"Close"})}renderIcon(){const{type:e,icon:t}=this.props;let s={warning:a.createElement(p,{size:"large","aria-label":"warning"}),success:a.createElement(d,{size:"large","aria-label":"success"}),info:a.createElement(c,{size:"large","aria-label":"info"}),danger:a.createElement(l,{size:"large","aria-label":"danger"})}[e];const n=o({[`${g}-icon`]:!0});return void 0!==t&&(s=t),s?a.createElement("div",{className:n,"x-semi-prop":"icon"},s):null}render(){const{children:e,type:t,className:s,style:n,bordered:r,title:i,description:l,fullMode:c}=this.props,{visible:d}=this.state,p=o(g,s,{[`${g}-${t}`]:t,[`${g}-full`]:c,[`${g}-in-container`]:!c,[`${g}-bordered`]:!c&&r});return d?a.createElement("div",Object.assign({className:p,style:n,role:"alert"},this.getDataAttr(this.props)),a.createElement("div",{className:`${g}-content-wrapper`},a.createElement("div",{className:`${g}-content`},this.renderIcon(),a.createElement("div",{className:`${g}-content-body`},i?a.createElement(u.Title,{heading:5,className:`${g}-title`,component:"div","x-semi-prop":"title"},i):null,l?a.createElement(u.Paragraph,{className:`${g}-description`,component:"div","x-semi-prop":"description"},l):null)),this.renderCloser()),e?a.createElement("div",{className:`${g}-extra`,"x-semi-prop":"children"},e):null):null}}v.propTypes={fullMode:m.bool,type:m.oneOf(f),title:m.node,description:m.node,icon:m.node,closeIcon:m.node,children:m.node,style:m.object,className:m.string,onClose:m.func,bordered:m.bool},v.defaultProps={onClose:()=>{},type:"info",fullMode:!0};export{v as B};
