import{v as e,r as t,K as i,N as s,Y as n,Q as o,R as r,a4 as a,W as l,aB as c,az as h,P as d,Z as p,U as m,T as b,$ as y,a0 as u,j as v,h as A}from"./index-BEnZJKm2.js";import{B as g}from"./index-Dp6br4xT.js";import{M as T,I as f}from"./Modal-DZ8lC6Be.js";import{S as w}from"./index-DXmumF3A.js";import{O as _,I as x,T as B,C as S}from"./index-WLfMw1r2.js";import{_ as j,b as I,B as C,L as K}from"./pick-C2YSPQei.js";import{D as O,I as P}from"./index-BGhFXHuB.js";import{I as E}from"./toInteger-DCAJSjGO.js";import{T as k}from"./index-fs5Z28YX.js";import{u as N}from"./useTranslation-BI58Wdi8.js";import{I as D}from"./IconFile-BXASMize.js";const R=e((function(e){return t.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 12a11 11 0 1 1 22 0 11 11 0 0 1-22 0Zm11-8a8 8 0 0 0-8 8h4.71A4.29 4.29 0 0 1 13 16.29c0 .39-.32.71-.71.71H10c-.5 0-.91.5-.91 1.5S10 20 10.5 20H12a8 8 0 0 0 7.9-6.77c-.69.49-1.51.77-2.4.77a4.51 4.51 0 0 1-4.13-3H10c-.55 0-1.01-.45-.91-1 .51-2.81 2.41-4 4.78-3.95.19-.29.4-.55.64-.8.29-.27.24-.78-.14-.9A8 8 0 0 0 12 4Z",fill:"currentColor"}))}),"globe"),$={TABS:`${i}-tabs`,TABS_BAR:`${i}-tabs-bar`,TABS_BAR_LINE:`${i}-tabs-bar-line`,TABS_BAR_CARD:`${i}-tabs-bar-card`,TABS_BAR_BUTTON:`${i}-tabs-bar-button`,TABS_BAR_SLASH:`${i}-tabs-bar-slash`,TABS_BAR_EXTRA:`${i}-tabs-bar-extra`,TABS_TAB:`${i}-tabs-tab`,TABS_TAB_ACTIVE:`${i}-tabs-tab-active`,TABS_TAB_DISABLED:`${i}-tabs-tab-disabled`,TABS_CONTENT:`${i}-tabs-content`,TABS_PANE:`${i}-tabs-pane`,TABS_PANE_INACTIVE:`${i}-tabs-pane-inactive`,TABS_PANE_ACTIVE:`${i}-tabs-pane-active`,TABS_PANE_MOTION_OVERLAY:`${i}-tabs-pane-motion-overlay`,TABS_PANE_ANIMATE_LEFT_SHOW:`${i}-tabs-pane-animate-leftShow`,TABS_PANE_ANIMATE_RIGHT_SHOW:`${i}-tabs-pane-animate-rightShow`,TABS_PANE_ANIMATE_TOP_SHOW:`${i}-tabs-pane-animate-topShow`,TABS_PANE_ANIMATE_BOTTOM_SHOW:`${i}-tabs-pane-animate-bottomShow`},M=["line","card","button","slash"],H=["small","medium","large"],z=["top","left"];class L extends s{constructor(e){super(Object.assign({},e)),this.destroy=n,this.handlePrevent=e=>{e.stopPropagation(),e.preventDefault()},this.handleKeyDown=(e,t,i)=>{const{preventScroll:s}=this.getProps(),n=[...e.target.parentNode.childNodes].filter((e=>o(e,"attributes.data-tabkey.value","").includes("semiTab")&&"true"!==o(e,"attributes.aria-disabled.value","")));switch(e.key){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":this.determineOrientation(e,n);break;case"Backspace":case"Delete":this.handleDeleteKeyDown(e,n,t,i);break;case"Enter":case" ":this.handleTabClick(t,e),this.handlePrevent(e);break;case"Home":n[0].focus({preventScroll:s}),this.handlePrevent(e);break;case"End":n[n.length-1].focus({preventScroll:s}),this.handlePrevent(e)}}}init(){this._adapter.collectPane()}_notifyChange(e){const{activeKey:t}=this.getStates();t!==e&&this._adapter.notifyChange(e)}handleTabClick(e,t){this._isInProps("activeKey")?this._notifyChange(e):(this._notifyChange(e),this.handleNewActiveKey(e)),this._adapter.notifyTabClick(e,t)}handleNewActiveKey(e){const{activeKey:t}=this.getStates();t!==e&&this._adapter.setNewActiveKey(e)}getDefaultActiveKey(){let e;const t=this.getProps();return e="activeKey"in t?t.activeKey:"defaultActiveKey"in t?t.defaultActiveKey:this._adapter.getDefaultActiveKeyFromChildren(),e}handleTabListChange(){this._adapter.collectPane()}handleTabPanesChange(){this._adapter.collectPane(),this._adapter.collectActiveKey()}handleTabDelete(e){this._adapter.notifyTabDelete(e)}determineOrientation(e,t){const{tabPosition:i}=this.getProps();"left"===i?"ArrowUp"!==e.key&&"ArrowDown"!==e.key||(this.switchTabOnArrowPress(e,t),this.handlePrevent(e)):"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||(this.switchTabOnArrowPress(e,t),this.handlePrevent(e))}handleDeleteKeyDown(e,t,i,s){const{preventScroll:n}=this.getProps();if(s){this.handleTabDelete(i);const s=t.indexOf(e.target);1!==t.length&&t[s+1>=t.length?s-1:s+1].focus({preventScroll:n})}}switchTabOnArrowPress(e,t){const{preventScroll:i}=this.getProps(),s=t.indexOf(e.target),n={ArrowLeft:-1,ArrowUp:-1,ArrowRight:1,ArrowDown:1};n[e.key]&&void 0!==s&&(t[s+n[e.key]]?t[s+n[e.key]].focus({preventScroll:i}):"ArrowLeft"===e.key||"ArrowUp"===e.key?t[t.length-1].focus({preventScroll:i}):"ArrowRight"!==e.key&&"ArrowDown"!=e.key||t[0].focus({preventScroll:i}))}}const V=(e,i)=>{const{tab:s,size:n,type:o,icon:c,selected:h,closable:d,disabled:p,itemKey:m,deleteTabItem:b,tabPosition:y,handleKeyDown:u,onClick:v}=e,A=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(i[s[n]]=e[s[n]])}return i}(e,["tab","size","type","icon","selected","closable","disabled","itemKey","deleteTabItem","tabPosition","handleKeyDown","onClick"]),g=t.useMemo((()=>d?r.createElement(a,{"aria-label":"Close",role:"button",className:`${$.TABS_TAB}-icon-close`,onClick:e=>b(m,e)}):null),[o,d,b,m]),T=t.useCallback((e=>r.createElement("span",{className:`${$.TABS_BAR}-icon`},e)),[]),f=t.useCallback((e=>{u&&u(e,m,d)}),[u,m,d]),w=t.useCallback((e=>{!p&&v&&v(m,e)}),[m,p,v]),_=c?T(c):null,x=l($.TABS_TAB,`${$.TABS_TAB}-${o}`,`${$.TABS_TAB}-${y}`,`${$.TABS_TAB}-single`,{[$.TABS_TAB_ACTIVE]:h,[$.TABS_TAB_DISABLED]:p,[`${$.TABS_TAB}-small`]:"small"===n,[`${$.TABS_TAB}-medium`]:"medium"===n});return r.createElement("div",Object.assign({role:"tab",id:`semiTab${m}`,"data-tabkey":`semiTab${m}`,"aria-controls":`semiTabPanel${m}`,"aria-disabled":p?"true":"false","aria-selected":h?"true":"false",tabIndex:h?0:-1,onKeyDown:f,onClick:w,className:x},A,{ref:i}),_,s,g)},G=t.forwardRef(V);G.elementType="Tabs.TabItem";class W extends r.Component{constructor(e){var t;super(e),t=this,this.handleItemClick=(e,t)=>{this.props.onTabClick(e,t)},this.handleKeyDown=(e,t,i)=>{this.props.handleKeyDown(e,t,i)},this.renderTabItem=e=>{const{size:t,type:i,deleteTabItem:s,handleKeyDown:n,tabPosition:o}=this.props,a=this._isActive(e.itemKey);return r.createElement(G,Object.assign({},j(e,["disabled","icon","itemKey","tab","closable"]),{key:this._getBarItemKeyByItemKey(e.itemKey),selected:a,size:t,type:i,tabPosition:o,handleKeyDown:n,deleteTabItem:s,onClick:this.handleItemClick}))},this.scrollTabItemIntoViewByKey=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"nearest";const s=document.querySelector(`[data-uuid="${t.state.uuid}"] .${$.TABS_TAB}[data-scrollkey="${e}"]`);null==s||s.scrollIntoView({behavior:"smooth",block:i,inline:i})},this.scrollActiveTabItemIntoView=e=>{const t=this._getBarItemKeyByItemKey(this.props.activeKey);this.scrollTabItemIntoViewByKey(t,e)},this.renderTabComponents=e=>e.map((e=>this.renderTabItem(e))),this.handleArrowClick=(e,t)=>{const i="start"===t?e.pop():e.shift();if(!i)return;const s=this._getBarItemKeyByItemKey(i.itemKey);this.scrollTabItemIntoViewByKey(s)},this.renderCollapse=(e,t,i)=>{var s;const n=l({[`${$.TABS_BAR}-arrow-${i}`]:i,[`${$.TABS_BAR}-arrow`]:!0});if(I(e))return r.createElement("div",{role:"presentation",className:n},r.createElement(C,{disabled:!0,icon:t,theme:"borderless"}));const{dropdownClassName:o,dropdownStyle:a,showRestInDropdown:c,dropdownProps:h}=this.props,{rePosKey:d}=this.state,p=!e.length,m=r.createElement(O.Menu,null,e.map((e=>{const{icon:t,tab:i,itemKey:s}=e,n=t?this.renderIcon(e.icon):null;return r.createElement(O.Item,{key:s,onClick:e=>this.handleItemClick(s,e),active:this._isActive(s)},n,i)}))),b=r.createElement("div",{role:"presentation",className:n,onClick:t=>this.handleArrowClick(e,i)},r.createElement(C,{disabled:p,icon:t,theme:"borderless"})),y=l(o,{[`${$.TABS_BAR}-dropdown`]:!0}),u=null!==(s=null==h?void 0:h[i])&&void 0!==s?s:{};return r.createElement(r.Fragment,null,c?r.createElement(O,Object.assign({className:y,clickToHide:!0,clickTriggerToHide:!0,key:`${d}-${i}`,position:"start"===i?"bottomLeft":"bottomRight",render:p?null:m,showTick:!0,style:a,trigger:"hover",disableFocusListener:!0},u),b):b)},this.renderOverflow=e=>e.map(((e,t)=>{const i=0===t?"start":"end",s=0===t?r.createElement(x,null):r.createElement(E,null),n=this.renderCollapse(e,s,i);return this.props.renderArrow?this.props.renderArrow(e,i,(()=>this.handleArrowClick(e,i)),n):n})),this.renderCollapsedTab=()=>{const{list:e}=this.props,t=e.map((e=>{const{itemKey:t}=e;return Object.assign({key:this._getBarItemKeyByItemKey(t),active:this._isActive(t)},e)}));return r.createElement(_,{items:t,overflowRenderDirection:this.props.arrowPosition,wrapperStyle:this.props.visibleTabsStyle,overflowRenderer:this.renderOverflow,renderMode:"scroll",className:`${$.TABS_BAR}-overflow-list`,visibleItemRenderer:this.renderTabItem,onVisibleStateChange:e=>{var t,i;const s=new Map;e.forEach(((e,t)=>{s.set(this._getItemKeyByBarItemKey(t),e)})),null===(i=(t=this.props).onVisibleTabsChange)||void 0===i||i.call(t,s)}})},this.renderWithMoreTrigger=()=>{const{list:e,more:t}=this.props;let i,s=[],n=r.createElement("div",{className:l({[`${$.TABS_BAR}-more-trigger`]:!0,[`${$.TABS_BAR}-more-trigger-${this.props.type}`]:!0})},r.createElement(K,{componentName:"Tabs"},((e,t)=>r.createElement("div",{className:`${$.TABS_BAR}-more-trigger-content`},r.createElement("div",null,e.more),r.createElement(P,{className:`${$.TABS_BAR}-more-trigger-content-icon`})))));if("number"==typeof t)i=e.length-Math.min(t,e.length),s=e.slice(0,i).map((e=>this.renderTabItem(e)));else if("object"==typeof t)i=e.length-Math.min(t.count,e.length),s=e.slice(0,i).map((e=>this.renderTabItem(e))),t.render&&(n=t.render());else if(void 0!==t)throw new Error("[Semi Tabs]: invalid tab props format: more");return r.createElement(r.Fragment,null,s,this.renderMoreDropdown(e.slice(i),null==t?void 0:t.dropdownProps,n))},this.renderMoreDropdown=(e,t,i)=>r.createElement(O,Object.assign({trigger:"hover",showTick:!0,position:"bottomLeft",className:`${$.TABS_BAR}-more-dropdown-${this.props.type}`,clickToHide:!0,menu:e.map((e=>({node:"item",name:e.tab,icon:e.icon,onClick:t=>this.props.onTabClick(e.itemKey,t),active:this.props.activeKey===e.itemKey})))},t),i),this._isActive=e=>e===this.props.activeKey,this._getBarItemKeyByItemKey=e=>`${e}-bar`,this._getItemKeyByBarItemKey=e=>e.replace(/-bar$/,""),this.state={endInd:e.list.length,rePosKey:0,startInd:0,uuid:"",currentVisibleItems:[]}}componentDidMount(){this.setState({uuid:c()})}componentDidUpdate(e){e.activeKey!==this.props.activeKey&&this.props.collapsible&&this.scrollActiveTabItemIntoView()}renderIcon(e){return r.createElement("span",null,e)}renderExtra(){const{tabBarExtraContent:e,type:t,size:i}=this.props,s={float:"right"},n=e&&e.props?e.props.style:{},o=l($.TABS_BAR_EXTRA,{[`${$.TABS_BAR}-${t}-extra`]:t,[`${$.TABS_BAR}-${t}-extra-${i}`]:i});if(e){const t=Object.assign(Object.assign({},s),n);return r.createElement("div",{className:o,style:t,"x-semi-prop":"tabBarExtraContent"},e)}return null}render(){const e=this.props,{type:t,style:i,className:s,list:n,tabPosition:o,more:a,collapsible:c}=e,d=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(i[s[n]]=e[s[n]])}return i}(e,["type","style","className","list","tabPosition","more","collapsible"]),p=l(s,{[$.TABS_BAR]:!0,[$.TABS_BAR_LINE]:"line"===t,[$.TABS_BAR_CARD]:"card"===t,[$.TABS_BAR_BUTTON]:"button"===t,[$.TABS_BAR_SLASH]:"slash"===t,[`${$.TABS_BAR}-${o}`]:o,[`${$.TABS_BAR}-collapse`]:c}),m=this.renderExtra(),b=c?this.renderCollapsedTab():a?this.renderWithMoreTrigger():this.renderTabComponents(n);return r.createElement("div",Object.assign({role:"tablist","aria-orientation":"left"===o?"vertical":"horizontal",className:p,style:i},h(d),{"data-uuid":this.state.uuid}),b,m)}}W.propTypes={activeKey:d.string,className:d.string,collapsible:d.bool,list:d.array,onTabClick:d.func,size:d.oneOf(H),style:d.object,tabBarExtraContent:d.node,tabPosition:d.oneOf(z),type:d.oneOf(M),closable:d.bool,deleteTabItem:d.func,more:d.oneOfType([d.number,d.object])};const q=r.createContext({});class U extends t.PureComponent{constructor(){super(...arguments),this.ref=t.createRef(),this.getDirection=(e,t,i,s)=>{if(null!==t&&null!==e&&Array.isArray(i)&&i.length){const n=i.findIndex((t=>t.itemKey===e)),o=i.findIndex((e=>e.itemKey===t)),r=i.findIndex((e=>e.itemKey===s));return n===o?r>n:o<n}return!1},this.shouldRender=()=>{const{itemKey:e}=this.props,{activeKey:t,lazyRender:i}=this.context,s=t===e;return this._active=this._active||s,!i||this._active}}render(){const{tabPaneMotion:e,tabPosition:t,prevActiveKey:i}=this.context,s=this.props,{className:n,style:o,children:a,itemKey:c,tabIndex:d}=s,m=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(i[s[n]]=e[s[n]])}return i}(s,["className","style","children","itemKey","tabIndex"]),b=this.context.activeKey===c,y=l(n,{[$.TABS_PANE_INACTIVE]:!b,[$.TABS_PANE_ACTIVE]:b,[$.TABS_PANE]:!0}),u=this.shouldRender(),v=(()=>{const e=this.getDirection(this.context.activeKey,c,this.context.panes,i);return"top"===t?e?$.TABS_PANE_ANIMATE_RIGHT_SHOW:$.TABS_PANE_ANIMATE_LEFT_SHOW:e?$.TABS_PANE_ANIMATE_BOTTOM_SHOW:$.TABS_PANE_ANIMATE_TOP_SHOW})(),A=!this.context.panes.find((e=>e.itemKey===i)),g=e&&b&&!A&&!this.context.forceDisableMotion;return r.createElement("div",Object.assign({ref:this.ref,role:"tabpanel",id:`semiTabPanel${c}`,"aria-labelledby":`semiTab${c}`,className:y,style:o,"aria-hidden":b?"false":"true",tabIndex:d||0},h(m),{"x-semi-prop":"children"}),r.createElement(p,{motion:g,animationState:b?"enter":"leave",startClassName:v},(e=>{let{animationClassName:t,animationEventsNeedBind:i}=e;return r.createElement("div",Object.assign({className:l($.TABS_PANE_MOTION_OVERLAY,t),"x-semi-prop":"children"},i),u?a:null)})))}}U.isTabPane=!0,U.contextType=q,U.propTypes={className:d.string,style:d.object,children:d.node,disabled:d.bool,itemKey:d.string,tab:d.node,icon:d.node,closable:d.bool};const F=["className","style","disabled","itemKey","tab","icon"];class Y extends m{constructor(e){super(e),this.setContentRef=e=>{this.contentRef={current:e}},this.getPanes=()=>{const{tabList:e,children:t}=this.props;return Array.isArray(e)&&e.length?e:r.Children.map(t,(e=>{if(e){const{tab:t,icon:i,disabled:s,itemKey:n,closable:o}=e.props;return{tab:t,icon:i,disabled:s,itemKey:n,closable:o}}}))},this.onTabClick=(e,t)=>{this.foundation.handleTabClick(e,t)},this.rePosChildren=(e,t)=>{const i=[],s=r.Children.toArray(e);return e.length&&(i.push(...s.filter((e=>e.props&&e.props.itemKey===t))),i.push(...s.filter((e=>e.props&&e.props.itemKey!==t)))),i},this.getActiveItem=()=>{const{activeKey:e}=this.state,{children:i,tabList:s}=this.props;return s||!Array.isArray(i)?i:r.Children.toArray(i).filter((i=>!(t.isValidElement(i)&&i.type&&i.type.isTabPane)||i.props.itemKey===e))},this.deleteTabItem=(e,t)=>{t.stopPropagation(),this.foundation.handleTabDelete(e)},this.foundation=new L(this.adapter),this.state={activeKey:this.foundation.getDefaultActiveKey(),panes:this.getPanes(),prevActiveKey:null,forceDisableMotion:!1},this.contentRef=t.createRef(),this.contentHeight="auto"}get adapter(){return Object.assign(Object.assign({},super.adapter),{collectPane:()=>{const e=this.getPanes();this.setState({panes:e})},collectActiveKey:()=>{const{tabList:e,children:t,activeKey:i}=this.props;if(void 0!==i)return;const{activeKey:s}=this.state,n=this.getPanes();-1===n.findIndex((e=>e.itemKey===s))&&(n.length>0?this.setState({activeKey:n[0].itemKey}):this.setState({activeKey:""}))},notifyTabClick:(e,t)=>{this.props.onTabClick(e,t)},notifyChange:e=>{this.props.onChange(e)},setNewActiveKey:e=>{this.setState({activeKey:e})},getDefaultActiveKeyFromChildren:()=>{const{tabList:e,children:i}=this.props;let s="";return(e||r.Children.toArray(i).map((e=>t.isValidElement(e)?e.props:null))).forEach((e=>{!e||s||e.disabled||(s=e.itemKey)})),s},notifyTabDelete:e=>{this.props.onTabClose&&this.props.onTabClose(e)}})}static getDerivedStateFromProps(e,t){const i={};return b(e.activeKey)||e.activeKey===t.activeKey||(t.prevActiveKey=t.activeKey,i.activeKey=e.activeKey),i}componentDidUpdate(e,i){const s=r.Children.toArray(e.children).map((e=>j(t.isValidElement(e)?e.props:null,F))),n=r.Children.toArray(this.props.children).map((e=>j(t.isValidElement(e)?e.props:null,F))),o=this.props.tabList||e.tabList;if(y(this.props.tabList,e.tabList)||this.foundation.handleTabListChange(),i.activeKey!==this.state.activeKey&&i.activeKey!==this.state.prevActiveKey&&this.setState({prevActiveKey:i.activeKey}),e.activeKey!==this.props.activeKey){const e=(()=>{const e=new Set(s.map((e=>e.itemKey)));return n.map((e=>e.itemKey)).filter((t=>!e.has(t)))})();this.setState({forceDisableMotion:e.includes(this.props.activeKey)})}y(s,n)||o||this.foundation.handleTabPanesChange()}render(){const e=this.props,{children:t,className:i,collapsible:s,contentStyle:n,keepDOM:o,lazyRender:a,renderTabBar:c,showRestInDropdown:h,size:d,style:p,tabBarClassName:m,tabBarExtraContent:b,tabBarStyle:y,tabPaneMotion:u,tabPosition:v,type:A,more:g,onVisibleTabsChange:T,visibleTabsStyle:f,arrowPosition:w,renderArrow:_,dropdownProps:x}=e,B=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(i[s[n]]=e[s[n]])}return i}(e,["children","className","collapsible","contentStyle","keepDOM","lazyRender","renderTabBar","showRestInDropdown","size","style","tabBarClassName","tabBarExtraContent","tabBarStyle","tabPaneMotion","tabPosition","type","more","onVisibleTabsChange","visibleTabsStyle","arrowPosition","renderArrow","dropdownProps"]),{panes:S,activeKey:j}=this.state,I=l(i,{[$.TABS]:!0,[`${$.TABS}-${v}`]:v}),C=l({[$.TABS_CONTENT]:!0,[`${$.TABS_CONTENT}-${v}`]:v}),K={activeKey:j,className:m,collapsible:s,list:S,onTabClick:this.onTabClick,showRestInDropdown:h,size:d,style:y,tabBarExtraContent:b,tabPosition:v,type:A,deleteTabItem:this.deleteTabItem,handleKeyDown:this.foundation.handleKeyDown,more:g,onVisibleTabsChange:T,visibleTabsStyle:f,arrowPosition:w,renderArrow:_,dropdownProps:x},O=c?c(K,W):r.createElement(W,Object.assign({},K)),P=o?t:this.getActiveItem();return r.createElement("div",Object.assign({className:I,style:p},this.getDataAttr(B)),O,r.createElement(q.Provider,{value:{activeKey:j,lazyRender:a,panes:S,tabPaneMotion:u,tabPosition:v,prevActiveKey:this.state.prevActiveKey,forceDisableMotion:this.state.forceDisableMotion}},r.createElement("div",{ref:this.setContentRef,className:C,style:Object.assign({},n)},P)))}}function Q({visible:e,handleOk:i}){const{t:s}=N(),{Text:n}=k,[o,r]=t.useState(window.innerHeight);t.useEffect((()=>{const e=()=>{r(window.innerHeight)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const a=[{class:s("OS version"),value:"Windows ≥ 10, MacOS ≥ 13(Ventura),Linux"},{class:s("Browser Support"),value:"Chrome Canary | Chrome Dev"},{class:s("minChromeVersion"),value:"128.0.6545.0"},{class:s("Storage"),value:s("Tip_AI_require_Disk")},{class:"GPU",value:s("Tip_AI_require_GPU")},{class:s("Video RAM"),value:s("Tip_AI_require_GPU_M")},{class:s("Network connection"),value:s("Tip_AI_require_Network")}];return v.jsx(T,{title:s("More_info"),visible:e,closeOnEsc:!0,fullScreen:!0,footer:null,onCancel:i,children:v.jsxs(Y,{more:"PC"===A()?0:3,tabPosition:"PC"===A()?"left":"top",lazyRender:!0,children:[v.jsx(U,{tab:v.jsxs("span",{children:[v.jsx(D,{}),s("Generative AI operational requirements")]}),itemKey:"1",children:v.jsxs("div",{style:{padding:"0 24px"},children:[v.jsx("h3",{children:s("Generative AI operational requirements")}),s("data source"),": ",v.jsx(n,{link:{target:"_blank",href:"https://docs.google.com/document/d/1VG8HIyz361zGduWgNG7R_R8Xkv0OOJ8b5C9QKeCjU0c/edit?tab=t.0#heading=h.cwc2ewfrtynq"},children:"Google Built-in AI Early Preview Program - Update 1"}),v.jsx("br",{}),v.jsx("br",{}),v.jsxs("div",{style:{maxHeight:o-170,overflowY:"auto"},children:[v.jsxs(B,{dataSource:a,pagination:!1,children:[v.jsx(S,{title:s("Type"),dataIndex:"class"},"class"),v.jsx(S,{title:s("content"),dataIndex:"value"},"value")]}),v.jsx("br",{}),v.jsx("br",{}),v.jsx(g,{fullMode:!1,type:"warning",style:{width:"98%"},bordered:!0,icon:null,closeIcon:null,title:v.jsx("div",{style:{fontWeight:600,fontSize:"14px",lineHeight:"20px"},children:s("Warning")}),description:v.jsxs(w,{vertical:!0,align:"start",children:[v.jsx("div",{children:s("Tip_AI_require_1")}),v.jsx("div",{children:s("Tip_AI_require_2")})]})}),v.jsx("br",{}),v.jsx("br",{})]})]})}),v.jsx(U,{tab:v.jsxs("span",{children:[v.jsx(R,{}),s("Enable Chrome API functionality")]}),itemKey:"2",children:v.jsxs("div",{style:{padding:"0 24px"},children:[v.jsx("h3",{children:s("Enable Chrome API functionality")}),v.jsxs("div",{style:{maxHeight:"500px",overflow:"auto",userSelect:"text"},children:[v.jsxs(g,{type:"warning",closeIcon:null,fullMode:!1,children:["Using this extension relies on Chrome's built-in Gemini Nano AI, which requires Chrome version greater than v127, which you can get in the",v.jsx(n,{link:{target:"_blank",href:"https://www.google.com/chrome/dev/"},children:"Dev"})," or",v.jsx(n,{link:{target:"_blank",href:"https://www.google.com/chrome/canary/"},children:"Canary"})," channels."]}),v.jsxs("ol",{children:[v.jsx("li",{children:"Download and install Chrome with built-in AI(Dev / Canary)."}),v.jsxs("li",{children:["Go to ",v.jsx(n,{style:{color:"var( --semi-color-link)"},children:"chrome://flags/#prompt-api-for-gemini-nano"})," and enable the Prompt API for Gemini Nano option."]}),v.jsx("li",{children:"Relaunch Chrome"}),v.jsxs("li",{children:["Go to ",v.jsx(n,{style:{color:"var( --semi-color-link)"},children:"chrome://flags/#optimization-guide-on-device-model"})," and turn on the Enables optimization guide on device option."]}),v.jsxs("li",{children:["Go to ",v.jsx(n,{style:{color:"var( --semi-color-link)"},children:"chrome://components/"})," and check or download the latest version of Optimization Guide On Device Model."]}),v.jsxs("li",{children:["Open DevTools and send ",v.jsx(n,{style:{color:"var( --semi-color-link)"},copyable:!0,children:"(await ai.languageModel.capabilities()).available;"})," in the console."]}),v.jsxs("li",{children:["If this returns ",v.jsx(n,{style:{color:"var( --semi-color-link)"},children:"“readily”"}),", then you are all set."]})]})]})]})}),v.jsx(U,{tab:v.jsxs("span",{children:[v.jsx(f,{}),s("Help")]}),itemKey:"3",children:v.jsxs("div",{style:{padding:"0 24px",userSelect:"text"},children:[v.jsx("h3",{children:s("Help")}),v.jsxs("div",{style:{maxHeight:o-120,overflowY:"auto"},children:[v.jsx("p",{style:{lineHeight:1.8,color:"var(--semi-color-text-0)",fontWeight:600},children:'Q：I follow the instructions and the result is not "readily"?'}),v.jsx("p",{style:{lineHeight:1.8,color:"var(--semi-color-text-1)"},children:v.jsxs("ol",{children:[v.jsxs("li",{children:["Force Chrome to recognize that you want to use this API. To do so, open DevTools and send ",v.jsx(n,{style:{color:"var( --semi-color-link)"},copyable:!0,children:" await ai.languageModel.create();"})," in the console. This will likely fail but it’s intended."]}),v.jsx("li",{children:"Relaunch Chrome."}),v.jsxs("li",{children:["Open a new tab in Chrome, go to ",v.jsx(n,{style:{color:"var( --semi-color-link)"},children:"chrome://components"})]}),v.jsx("li",{children:"Confirm that Gemini Nano is either available or is being downloaded"}),v.jsxs("ul",{children:[v.jsxs("li",{children:["You'll want to see the ",v.jsx(n,{style:{color:"var( --semi-color-link)"},children:" Optimization Guide On Device Model"})," present with a version greater or equal to 2024.5.21.1031."]}),v.jsx("li",{children:"If there is no version listed, click on Check for update to force the download."})]}),v.jsxs("li",{children:["Once the model has downloaded and has reached a version greater than shown above, open DevTools and send ",v.jsx(n,{copyable:!0,style:{color:"var( --semi-color-link)"},children:"(await ai.languageModel.capabilities()).available;"})," in the console. If this returns “readily”, then you are all set."]}),v.jsx("ul",{children:v.jsx("li",{children:"Otherwise, relaunch, wait for a little while, and try again from step 1. "})})]})}),v.jsx("p",{style:{lineHeight:1.8,color:"var(--semi-color-text-0)",fontWeight:600},children:"Q：I tried to solve problem 1, but there is no Optimization Guide On Device Model？"}),v.jsxs("p",{style:{lineHeight:1.8,color:"var(--semi-color-text-1)"},children:["Some participants have reported that the following steps helped them get the component to show up:",v.jsx("ul",{children:v.jsx("li",{children:"If you want to try the API on a device that doesn't have the performance or VRAM requirement (i.e., when capabilities() === 'no'), you can override it by setting the flag #optimization-guide-on-device-mode to  \"Enabled BypassPerfRequirement\", then retry the setup steps. This comes with the caveat that, while the model may be able to run, it may also fail to execute with generic failure errors."})})]}),v.jsx("p",{style:{lineHeight:1.8,color:"var(--semi-color-text-0)",fontWeight:600},children:'Q：All my steps were successful, but I was prompted to "downloading" during verification.'}),v.jsxs("p",{style:{lineHeight:1.8,color:"var(--semi-color-text-1)"},children:["The browser may not start downloading the model right away. If your computer fulfills all the requirements and you don't see the model download start on ",v.jsx(n,{style:{color:"var( --semi-color-link)"},children:"chrome://components"})," after calling ",v.jsx(n,{copyable:!0,style:{color:"var( --semi-color-link)"},children:"ai.languageModel.create()"}),", and Optimization Guide On Device Model shows version 0.0.0.0 / New, leave the browser open for a few minutes to wait for the scheduler to start the download."]}),v.jsx("p",{style:{lineHeight:1.8,color:"var(--semi-color-text-0)",fontWeight:600},children:"Q：Prompting me about an unsupported language in a conversation?"}),v.jsxs("p",{style:{lineHeight:1.8,color:"var(--semi-color-text-1)"},children:["Yes, since the AI feature is still in closed beta and the model is not heavily trained for languages other than English, to prevent unexpected errors, an option is quoted in Chrome new version to force the model to speak only English. If you want to try your language, change the option to Disabled at ",v.jsx(n,{style:{color:"var( --semi-color-link)"},children:"chrome://flags/#text-safety-classifier"})]})]})]})})]})})}Y.TabPane=U,Y.TabItem=G,Y.propTypes={activeKey:d.string,className:d.string,collapsible:d.bool,contentStyle:d.oneOfType([d.object]),defaultActiveKey:d.string,keepDOM:d.bool,lazyRender:d.bool,onChange:d.func,onTabClick:d.func,renderTabBar:d.func,showRestInDropdown:d.bool,size:d.oneOf(H),style:d.object,tabBarClassName:d.string,tabBarExtraContent:d.node,tabBarStyle:d.object,tabList:d.array,tabPaneMotion:d.bool,tabPosition:d.oneOf(z),type:d.oneOf(M),onTabClose:d.func,preventScroll:d.bool,more:d.oneOfType([d.number,d.object]),arrowPosition:d.string,renderArrow:d.func,dropdownProps:d.object},Y.__SemiComponentName__="Tabs",Y.defaultProps=u(Y.__SemiComponentName__,{children:[],collapsible:!1,keepDOM:!0,lazyRender:!1,onChange:()=>{},onTabClick:()=>{},size:"large",tabPaneMotion:!0,tabPosition:"top",type:"line",onTabClose:()=>{},showRestInDropdown:!0,arrowPosition:"both"});export{Q as C,Y as T,U as a};
