import{r as t,F as e,ap as n,Z as o,B as s,P as i}from"./index-CiQzaChg.js";const r=()=>document.body;class a extends t.PureComponent{constructor(t,n){var o;super(t),o=this,this.initContainer=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n,s;try{let e;if(!o.el||!(null===(n=o.state)||void 0===n?void 0:n.container)||!Array.from(o.state.container.childNodes).includes(o.el)){o.el=document.createElement("div");const n=(o.props.getPopupContainer||t.getPopupContainer||r)();return n.appendChild(o.el),o.addStyle(o.props.style),o.addClass(o.props.prefixCls,t,o.props.className),e=n,e}}catch(i){if(!e)throw i}return null===(s=o.state)||void 0===s?void 0:s.container},this.addStyle=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o.el)for(const e of Object.keys(t))o.el.style[e]=t[e]},this.addClass=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.context;const{direction:s}=n;for(var i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];const l=e(t,...r,{[`${t}-rtl`]:"rtl"===s});o.el&&(o.el.className=l)},this.state={container:this.initContainer(n,!0)}}componentDidMount(){const t=this.initContainer(this.context);t!==this.state.container&&this.setState({container:t})}componentDidUpdate(t){const{didUpdate:e}=this.props;e&&e(t)}componentWillUnmount(){const{container:t}=this.state;t&&t.removeChild(this.el)}render(){const{state:t,props:e}=this;return t.container?n.createPortal(e.children,this.el):null}}a.contextType=o,a.defaultProps={prefixCls:`${s}-portal`},a.propTypes={children:i.node,prefixCls:i.string,getPopupContainer:i.func,className:i.string,didUpdate:i.func};const l={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,UP:38,DOWN:40},c="Enter";export{c as E,a as P,l as k};
