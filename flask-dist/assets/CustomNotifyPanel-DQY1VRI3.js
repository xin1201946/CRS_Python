import{p as e,q as t,u as s,t as n,r,R as a,P as o,j as i,o as l}from"./index-CCsViYEm.js";import{c,B as d,i as p,k as u,D as m,I as h,v as g,m as f,H as y,E as x,J as b,A as j}from"./AppContent-DzAY2IDB.js";import{T as v,S as w,C as E}from"./index-BI5xKCkj.js";import{T as C}from"./index-Cip1nc55.js";import{A as N}from"./index-XHJrcggf.js";function S(e,s){[...s].reverse().forEach((n=>{const r=e.getVariant(n);r&&t(e,r),e.variantChildren&&e.variantChildren.forEach((e=>{S(e,s)}))}))}function $(){const s=new Set,n={subscribe:e=>(s.add(e),()=>{s.delete(e)}),start(t,n){const r=[];return s.forEach((s=>{r.push(e(s,t,{transitionOverride:n}))})),Promise.all(r)},set:e=>s.forEach((s=>{!function(e,s){Array.isArray(s)?S(e,s):"string"==typeof s?S(e,[s]):t(e,s)}(s,e)})),stop(){s.forEach((e=>{!function(e){e.values.forEach((e=>e.stop()))}(e)}))},mount:()=>()=>{n.stop()}};return n}const I=function(){const e=s($);return n(e.mount,[]),e};const O=c((function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm1.5-16.5v4.88l3.56 3.56a1.5 1.5 0 0 1-2.12 2.12l-4-4A1.5 1.5 0 0 1 10.5 12V6.5a1.5 1.5 0 0 1 3 0Z",fill:"currentColor"}))}),"clock"),F={PREFIX:`${d}-banner`};class P extends p{constructor(e){super(Object.assign(Object.assign({},P.defaultAdapter),e))}removeBanner(e){this._adapter.notifyClose(e),this._adapter.setVisible()}}const T=F.PREFIX,R=["info","success","danger","warning"];class A extends u{constructor(e){super(e),this.remove=e=>{e&&e.stopPropagation(),this.foundation.removeBanner(e)},this.state={visible:!0},m("target"in this.props,"[Semi Banner] 'target' has been deprecated, please write JSX directly instead.")}get adapter(){return Object.assign(Object.assign({},super.adapter),{setVisible:()=>{this.setState({visible:!1})},notifyClose:e=>{const{onClose:t}=this.props;t(e)}})}componentDidMount(){this.foundation=new P(this.adapter),this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}renderCloser(){const{closeIcon:e}=this.props;if(null===e)return e;return a.createElement(h,{className:`${T}-close`,onClick:this.remove,icon:e||a.createElement(g,{"x-semi-prop":"closeIcon","aria-hidden":!0}),theme:"borderless",size:"small",type:"tertiary","aria-label":"Close"})}renderIcon(){const{type:e,icon:t}=this.props;let s={warning:a.createElement(j,{size:"large","aria-label":"warning"}),success:a.createElement(b,{size:"large","aria-label":"success"}),info:a.createElement(x,{size:"large","aria-label":"info"}),danger:a.createElement(y,{size:"large","aria-label":"danger"})}[e];const n=f({[`${T}-icon`]:!0});return void 0!==t&&(s=t),s?a.createElement("div",{className:n,"x-semi-prop":"icon"},s):null}render(){const{children:e,type:t,className:s,style:n,bordered:r,title:o,description:i,fullMode:l}=this.props,{visible:c}=this.state,d=f(T,s,{[`${T}-${t}`]:t,[`${T}-full`]:l,[`${T}-in-container`]:!l,[`${T}-bordered`]:!l&&r});return c?a.createElement("div",Object.assign({className:d,style:n,role:"alert"},this.getDataAttr(this.props)),a.createElement("div",{className:`${T}-content-wrapper`},a.createElement("div",{className:`${T}-content`},this.renderIcon(),a.createElement("div",{className:`${T}-content-body`},o?a.createElement(v.Title,{heading:5,className:`${T}-title`,component:"div","x-semi-prop":"title"},o):null,i?a.createElement(v.Paragraph,{className:`${T}-description`,component:"div","x-semi-prop":"description"},i):null)),this.renderCloser()),e?a.createElement("div",{className:`${T}-extra`,"x-semi-prop":"children"},e):null):null}}function B({title:e,message:t,showTime:s,type:n,extra:a=null,onClose:o=null,id:c,newTagList:d=[],noOffsetScreen:p=!1}){const u=c,m=I(),[f,y]=r.useState("gray"),[x,b]=r.useState(!1),j=()=>{null!==o&&(b(!0),o(u))},v=null==a?i.jsxs(w,{className:"CustomNotify_Footer_Space",style:{width:"100%"},children:[i.jsxs(w,{style:{width:"90%"},wrap:!0,children:[i.jsxs(C,{color:"warning"===n?"yellow":"danger"===n?"red":"success"===n?"green":"violet",type:"ghost",style:{margin:0},children:[" ",n," "]}),i.jsxs(C,{color:"cyan",prefixIcon:i.jsx(O,{style:{color:"cyan"}}),type:"ghost",style:{margin:0},children:[" ",s," "]}),d.length>0?d.map((({msg:e,icon:t,color:s,type:n})=>i.jsxs(C,{color:null==s?"green":s,prefixIcon:null==t?null:t,type:null==n?"ghost":n,style:{margin:0},children:["",e,""]}))):i.jsx(i.Fragment,{})]}),i.jsx(h,{onMouseEnter:()=>y("orangered"),onMouseLeave:()=>y("gray"),className:"CustomNotify_Footer_Space_IconButton",theme:"borderless",icon:i.jsx(g,{style:{color:f}}),onClick:j})]}):a,[S,$]=r.useState(!1),[F,P]=r.useState(i.jsxs(i.Fragment,{children:[null==t||t===i.jsx(i.Fragment,{})||"object"==typeof t?e:t," ",v]})),T=s=>{P(s?t:i.jsxs(i.Fragment,{children:[null==t||t===i.jsx(i.Fragment,{})||"object"==typeof t?e:t," ",v]}))};return i.jsx(i.Fragment,{children:i.jsx(N,{children:i.jsx(l.div,{initial:{opacity:1,x:0},animate:m,exit:{opacity:1},drag:"x",dragConstraints:{left:0,right:0},dragElastic:.2,onPanStart:()=>{b(!0)},onPanEnd:(e,t)=>{b(!1),null===o?m.start({x:0}):p?m.start({x:0}).then(j):t.offset.x>200?m.start({x:window.innerWidth,opacity:0}).then(j):t.offset.x<-200?m.start({x:-window.innerWidth,opacity:0}).then(j):m.start({x:0})},children:i.jsx(E,{bordered:!0,style:{margin:"10px"},shadows:"hover",title:S?e:null,footerLine:!1,footer:S?v:null,headerLine:!1,onClick:async()=>{x?b(!1):(await(async()=>{await m.start({opacity:0,transition:{duration:.3}})})(),$((e=>{const t=!e;return T(t),t})),await(async()=>{await m.start({opacity:1,transition:{duration:.3}})})())},children:F})})})})}A.propTypes={fullMode:o.bool,type:o.oneOf(R),title:o.node,description:o.node,icon:o.node,closeIcon:o.node,children:o.node,style:o.object,className:o.string,onClose:o.func,bordered:o.bool},A.defaultProps={onClose:()=>{},type:"info",fullMode:!0},B.propTypes={title:o.string.isRequired,message:o.node.isRequired,showTime:o.string.isRequired,type:o.string.isRequired,extra:o.node,id:o.string,onClose:o.func,newTagList:o.array,noOffsetScreen:o.bool},B.defaultProps={extra:null,newTagList:[],onClose:null,noOffsetScreen:!1};export{A as B,B as C,O as I};
