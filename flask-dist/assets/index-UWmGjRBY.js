import{K as e,R as t,ao as s,ah as r,W as n,az as i,P as o}from"./index-BEnZJKm2.js";const a={PREFIX:`${e}-layout`},l=t.createContext({siderHook:{addSider:s,removeSider:s}});const p={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},d=(()=>{let e=0;return()=>(e+=1,`${a.PREFIX}-sider-${e}`)})(),c=["xs","sm","md","lg","xl","xxl"];class m extends t.PureComponent{constructor(e){super(e),this.unRegisters=[],this.uniqueId="",this.uniqueId=d()}componentDidMount(){const{breakpoint:e}=this.props,t=Object.keys(p).filter((t=>e&&-1!==e.indexOf(t))).map((e=>r(p[e],{match:()=>{this.responsiveHandler(e,!0)},unmatch:()=>{this.responsiveHandler(e,!1)}})));this.unRegisters=t,this.context.siderHook&&this.context.siderHook.addSider(this.uniqueId)}componentWillUnmount(){this.unRegisters.forEach((e=>e())),this.context.siderHook&&this.context.siderHook.removeSider(this.uniqueId)}responsiveHandler(e,t){const{onBreakpoint:s}=this.props;s&&s(e,t)}render(){const e=this.props,{prefixCls:s,className:r,children:o,style:a}=e,l=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]])}return s}(e,["prefixCls","className","children","style"]),p=n(r,{[`${s}-sider`]:!0});return t.createElement("aside",Object.assign({className:p,"aria-label":this.props["aria-label"],style:a},i(l)),t.createElement("div",{className:`${s}-sider-children`},o))}}m.propTypes={prefixCls:o.string,style:o.object,className:o.string,breakpoint:o.arrayOf(o.oneOf(c)),onBreakpoint:o.func,"aria-label":o.string,role:o.string},m.defaultProps={prefixCls:a.PREFIX},m.contextType=l,m.elementType="Layout.Sider";var h=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]])}return s};const u={Header:"header",Footer:"footer",Content:"main",Layout:"section"};function x(e){const s=u[e],r=e.toLowerCase();return e=>class extends t.PureComponent{render(){return t.createElement(e,Object.assign({role:this.props.role,"aria-label":this.props["aria-label"],type:r,tagName:s},this.props))}}}class y extends t.PureComponent{render(){const e=this.props,{prefixCls:s,type:r,className:i,children:o,tagName:a}=e,l=h(e,["prefixCls","type","className","children","tagName"]),p=n(i,`${s}-${r}`);return t.createElement(a,Object.assign({className:p},l),o)}}y.propTypes={prefixCls:o.string,style:o.object,className:o.string},y.defaultProps={prefixCls:a.PREFIX};const f=x("Header")(y),g=x("Footer")(y),b=x("Content")(y);class O extends t.Component{constructor(e){super(e),this.state={siders:[]}}getSiderHook(){return{addSider:e=>{this.setState((t=>({siders:[...t.siders,e]})))},removeSider:e=>{this.setState((t=>({siders:t.siders.filter((t=>t!==e))})))}}}render(){const e=this.props,{prefixCls:s,className:r,children:i,hasSider:o,tagName:a}=e,p=h(e,["prefixCls","className","children","hasSider","tagName"]),{siders:d}=this.state,c=n(r,s,{[`${s}-has-sider`]:"boolean"==typeof o&&o||d.length>0||t.Children.toArray(i).some((e=>t.isValidElement(e)&&e.type&&"Layout.Sider"===e.type.elementType))}),m=a;return t.createElement(l.Provider,{value:{siderHook:this.getSiderHook()}},t.createElement(m,Object.assign({className:c},p),i))}}O.propTypes={prefixCls:o.string,style:o.object,className:o.string},O.defaultProps={prefixCls:a.PREFIX,tagName:"section"},O.Header=f,O.Footer=g,O.Content=b,O.Sider=m;export{O as L};
