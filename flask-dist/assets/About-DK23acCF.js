import{R as e,P as t,r as s,j as n,x as i,y as r,f as o,s as a,i as l,k as c}from"./index-CCsViYEm.js";import{T as d,C as p,S as u,P as h,M as m,I as f}from"./index-BI5xKCkj.js";import{D as g}from"./index-CoWGG1Mh.js";import{i as j,B as y,K as b,k as x,m as O,n as C,I,v,H as _,E as S,J as E,A as T,z as k,t as w,p as N,L as P,R as A,C as R,s as W,M as $,N as M,u as L,S as z}from"./AppContent-DzAY2IDB.js";import{B as F}from"./CustomNotifyPanel-DQY1VRI3.js";import{B}from"./pick-CcpBOeoj.js";import{C as D}from"./Chrome_AI_Info-D7jKxv2K.js";import H from"./ServerInfo-CHMZ3DNI.js";import"./index-D05P_SgG.js";import"./localeConsumer-BEiTkOj7.js";import"./isPlainObject-Dm5b2ZIv.js";import"./index-Cip1nc55.js";import"./index-XHJrcggf.js";import"./index-ChJUr8MD.js";import"./isPromise-Bg79myL2.js";import"./truncateValue-DRMgwlIu.js";import"./index-r0f7UA0L.js";import"./index-D7TaNYTJ.js";import"./IconClear-CZZZZ1Kg.js";import"./index-C4uoQKnu.js";import"./IconFile-CBHLccQg.js";import"./index-JT-Bmx7K.js";import"./VChart-jgLG29LE.js";class U extends j{constructor(e){super(Object.assign(Object.assign({},U.defaultAdapter),e)),this.handleMouseInSideChange=e=>{this._adapter.handleMouseInSideChange(e)},this.getInputWrapperRect=()=>this._adapter.getInputWrapperRect()}hasToast(e){return this._adapter.getState("list").map((e=>{let{id:t}=e;return t})).includes(e)}addToast(e){const t=this._adapter.getState("list");t.push(e),this._adapter.updateToast(t,[],[])}updateToast(e,t){let s=this._adapter.getState("list");s=s.map((s=>s.id===e?Object.assign(Object.assign({},s),t):s));const n=s.filter((t=>t.id===e));this._adapter.updateToast(s,[],n)}removeToast(e){let t=this._adapter.getState("list");const s=[];t=t.filter((t=>t.id!==e||(s.push(t),!1))),this._adapter.updateToast(t,s,[])}destroyAll(){const e=this._adapter.getState("list");e.length>0&&this._adapter.updateToast([],e,[])}}const X=`${y}-toast`,K={PREFIX:X,WRAPPER:`${X}-wrapper`},q={types:["warning","success","info","error","default"],themes:["normal","light"],directions:["ltr","rtl"]};class V extends j{constructor(e){super(Object.assign(Object.assign({},V.defaultAdapter),e)),this._timer=null,this._id=null}init(){this.startCloseTimer_(),this._id=this._adapter.getProp("id")}destroy(){this.clearCloseTimer_()}startCloseTimer_(){const e=this._adapter.getProp("duration");e&&b(e)&&(this._timer=setTimeout((()=>{this.close()}),1e3*e))}close(e){e&&e.stopPropagation(),this._adapter.notifyWrapperToRemove(this._id),this._adapter.notifyClose()}clearCloseTimer_(){this._timer&&(clearTimeout(this._timer),this._timer=null)}restartCloseTimer(){this.clearCloseTimer_(),this.startCloseTimer_()}}const Y=K.PREFIX;let J=class extends x{constructor(t){super(t),this.toastEle=e.createRef(),this.clearCloseTimer=()=>{this.foundation.clearCloseTimer_()},this.startCloseTimer=()=>{this.foundation.startCloseTimer_()},this.restartCloseTimer=()=>{this.foundation.restartCloseTimer()},this.state={},this.foundation=new V(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyWrapperToRemove:e=>{this.props.close(e)},notifyClose:()=>{this.props.onClose()}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}close(e){this.foundation.close(e)}renderIcon(){const{type:t,icon:s}=this.props,n={warning:e.createElement(T,null),success:e.createElement(E,null),info:e.createElement(S,null),error:e.createElement(_,null)}[t],i="large",r=O(`${Y}-icon`,`${Y}-icon-${t}`);return s?C(s)?e.cloneElement(s,{size:i,className:`${Y}-icon`}):s:t&&n?e.cloneElement(n,{size:i,className:r}):null}render(){const{content:t,type:s,theme:n,showClose:i,textMaxWidth:r,className:o,style:a}=this.props,l=this.props.direction||this.context.direction,c=O(Y,o,{[`${Y}-${s}`]:!0,[`${Y}-${n}`]:"light"===n,[`${Y}-rtl`]:"rtl"===l}),d={};d.maxWidth=r;const p=this.props.positionInList?this.props.positionInList.length-this.props.positionInList.index-1:0,u=e.createElement("div",{ref:this.toastEle,role:"alert","aria-label":`${s||"default"} type`,className:c,style:Object.assign(Object.assign({},a),{transform:`translate3d(0,0,${-10*p}px)`}),onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onAnimationStart:this.props.onAnimationStart,onAnimationEnd:this.props.onAnimationEnd},e.createElement("div",{className:`${Y}-content`},this.renderIcon(),e.createElement("span",{className:`${Y}-content-text`,style:d,"x-semi-prop":"content"},t),i&&e.createElement("div",{className:`${Y}-close-button`},e.createElement(I,{onClick:e=>this.close(e),type:"tertiary",icon:e.createElement(v,{"x-semi-prop":"icon"}),theme:"borderless",size:"small"}))));if(this.props.stack){const t=this.props.stackExpanded&&this.toastEle.current&&getComputedStyle(this.toastEle.current).height||0;return e.createElement("div",{className:`${Y}-zero-height-wrapper`,style:{height:t}},u)}return u}};J.contextType=k,J.propTypes={onClose:t.func,content:t.node,close:t.func,duration:t.number,theme:t.oneOf(q.themes),type:t.oneOf(q.types),textMaxWidth:t.oneOfType([t.string,t.number]),style:t.object,className:t.string,showClose:t.bool,stack:t.bool,stackExpanded:t.bool,icon:t.node,direction:t.oneOf(q.directions)},J.__SemiComponentName__="Toast",J.defaultProps=w(J.__SemiComponentName__,{onClose:N,content:"",close:N,duration:3,textMaxWidth:450,showClose:!0,stack:!1,stackExpanded:!1,theme:"normal"});const G=(t,n)=>{var{afterClose:i}=t,r=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]])}return s}(t,["afterClose"]);const[o,a]=s.useState(!0);return e.useImperativeHandle(n,(()=>({close:()=>{a(!1)}}))),s.useEffect((()=>{o||i(r.id)}),[o]),o?e.createElement(J,Object.assign({},r,{close:()=>{a(!1)}})):null},Q=e.forwardRef(G),Z={motion:!0,zIndex:1010,duration:3};function ee(){const[t,n]=function(){const[t,s]=e.useState([]);return[t,function(e,t){return s((s=>[{element:e,config:t},...s])),e=>{s((t=>t.filter((t=>{let{config:s}=t;return s.id!==e}))))}}]}(),i=s.useRef(new Map),r=t=>{const s=P("semi_toast_"),r=Object.assign(Object.assign({},t),{id:s});let o;const a=e.createElement(Q,Object.assign({},r,{key:s,afterClose:e=>o(e),ref:e=>{var t;i.current.set(s,{close:null!==(t=null==e?void 0:e.close)&&void 0!==t?t:N})}}));return o=n(a,Object.assign({},r)),s};return[{success:e=>r(Object.assign(Object.assign(Object.assign({},Z),e),{type:"success"})),info:e=>r(Object.assign(Object.assign(Object.assign({},Z),e),{type:"info"})),error:e=>r(Object.assign(Object.assign(Object.assign({},Z),e),{type:"error"})),warning:e=>r(Object.assign(Object.assign(Object.assign({},Z),e),{type:"warning"})),open:e=>r(Object.assign(Object.assign(Object.assign({},Z),e),{type:"default"})),close:e=>(e=>{var t;const{close:s}=null!==(t=i.current.get(e))&&void 0!==t?t:{};null==s||s()})(e)},e.createElement(e.Fragment,null,Array.isArray(t)&&t.length?e.createElement(e.Fragment,null,t.map((e=>e.element))):null)]}const te=()=>{var s;return(s=class t extends x{constructor(t){super(t),this.stack=!1,this.innerWrapperRef=e.createRef(),this.handleMouseEnter=e=>{this.stack&&this.foundation.handleMouseInSideChange(!0)},this.handleMouseLeave=e=>{var t;if(this.stack){(null===(t=this.foundation.getInputWrapperRect())||void 0===t?void 0:t.height)&&this.foundation.handleMouseInSideChange(!1)}},this.state={list:[],removedItems:[],updatedItems:[],mouseInSide:!1},this.foundation=new U(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateToast:(e,t,s)=>{this.setState({list:e,removedItems:t,updatedItems:s})},handleMouseInSideChange:e=>{this.setState({mouseInSide:e})},getInputWrapperRect:()=>{var e;return null===(e=this.innerWrapperRef.current)||void 0===e?void 0:e.getBoundingClientRect()}})}static create(s){var n;const i=null!==(n=s.id)&&void 0!==n?n:P("toast");if(t.ref){const e=document.querySelector(`#${this.wrapperId}`);["top","left","bottom","right"].map((t=>{t in s&&(e.style[t]="number"==typeof s[t]?`${s[t]}px`:s[t])})),Boolean(s.stack)!==t.ref.stack&&(t.ref.stack=Boolean(s.stack)),t.ref.has(i)?t.ref.update(i,Object.assign(Object.assign({},s),{id:i})):t.ref.add(Object.assign(Object.assign({},s),{id:i}))}else{const n=document.createElement("div");if(this.wrapperId||(this.wrapperId=P("toast-wrapper").slice(0,26)),n.className=K.WRAPPER,n.id=this.wrapperId,n.style.zIndex=String("number"==typeof s.zIndex?s.zIndex:t.defaultOpts.zIndex),["top","left","bottom","right"].map((e=>{if(e in t.defaultOpts||e in s){const i=s[e]?s[e]:t.defaultOpts[e];n.style[e]="number"==typeof i?`${i}px`:i}})),t.defaultOpts.getPopupContainer){t.defaultOpts.getPopupContainer().appendChild(n)}else document.body.appendChild(n);A.render(e.createElement(t,{ref:e=>t.ref=e}),n,(()=>{t.ref.add(Object.assign(Object.assign({},s),{id:i})),t.ref.stack=Boolean(s.stack)}))}return i}static close(e){t.ref&&t.ref.remove(e)}static destroyAll(){if(t.ref){t.ref.destroyAll();const e=document.querySelector(`#${this.wrapperId}`);A.unmountComponentAtNode(e),e&&e.parentNode.removeChild(e),t.ref=null,this.wrapperId=null}}static getWrapperId(){return this.wrapperId}static info(e){return"string"==typeof e&&(e={content:e}),this.create(Object.assign(Object.assign(Object.assign({},t.defaultOpts),e),{type:"info"}))}static warning(e){return"string"==typeof e&&(e={content:e}),this.create(Object.assign(Object.assign(Object.assign({},t.defaultOpts),e),{type:"warning"}))}static error(e){return"string"==typeof e&&(e={content:e}),this.create(Object.assign(Object.assign(Object.assign({},t.defaultOpts),e),{type:"error"}))}static success(e){return"string"==typeof e&&(e={content:e}),this.create(Object.assign(Object.assign(Object.assign({},t.defaultOpts),e),{type:"success"}))}static config(e){["top","left","bottom","right"].forEach((s=>{s in e&&(t.defaultOpts[s]=e[s])})),"string"==typeof e.theme&&q.themes.includes(e.theme)&&(t.defaultOpts.theme=e.theme),"number"==typeof e.zIndex&&(t.defaultOpts.zIndex=e.zIndex),"number"==typeof e.duration&&(t.defaultOpts.duration=e.duration),"function"==typeof e.getPopupContainer&&(t.defaultOpts.getPopupContainer=e.getPopupContainer)}has(e){return this.foundation.hasToast(e)}add(e){return this.foundation.addToast(e)}update(e,t){return this.foundation.updateToast(e,t)}remove(e){return this.foundation.removeToast(e)}destroyAll(){return this.foundation.destroyAll()}render(){let{list:t}=this.state;const{removedItems:s,updatedItems:n}=this.state;t=Array.from(new Set([...t,...s]));const i=n.map((e=>{let{id:t}=e;return t})),r=e=>{var t;(null===(t=null==e?void 0:e.foundation)||void 0===t?void 0:t._id)&&i.includes(e.foundation._id)&&e.foundation.restartCloseTimer()};return e.createElement(e.Fragment,null,e.createElement("div",{className:O({[`${K.PREFIX}-innerWrapper`]:!0,[`${K.PREFIX}-innerWrapper-hover`]:this.state.mouseInSide}),ref:this.innerWrapperRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},t.map(((n,i)=>{const o=void 0!==s.find((e=>e.id===n.id));return e.createElement(R,{key:n.id,motion:n.motion,animationState:o?"leave":"enter",startClassName:o?`${K.PREFIX}-animation-hide`:`${K.PREFIX}-animation-show`},(s=>{let{animationClassName:a,animationEventsNeedBind:l,isAnimating:c}=s;return o&&!c?null:e.createElement(J,Object.assign({},n,{stack:this.stack,stackExpanded:this.state.mouseInSide,positionInList:{length:t.length,index:i},className:O({[n.className]:Boolean(n.className),[a]:!0})},l,{style:Object.assign({},n.style),close:e=>this.remove(e),ref:r}))}))}))))}}).defaultOpts={motion:!0,zIndex:1010,content:""},s.propTypes={content:t.node,duration:t.number,onClose:t.func,icon:t.node,direction:t.oneOf(q.directions),stack:t.bool},s.defaultProps={},s};const se=class{static create(e){const t=te();return t.useToast=ee,e&&t.config(e),t}}.create();function ne(){const{Text:e}=d;return n.jsxs(n.Fragment,{children:[n.jsx(F,{fullMode:!1,type:"danger",bordered:!0,icon:null,closeIcon:null,title:n.jsx("div",{style:{fontWeight:600,fontSize:"14px",lineHeight:"20px"},children:"⚠ Warning"}),description:n.jsxs(e,{children:["You are now on the Developer Testing Page. All features on this page are for testing purposes only. If you entered here by mistake, you can safely close this page now. However, if you choose to continue, please note: ",n.jsx("b",{children:"actions here are irreversible"}),",",n.jsx("b",{children:"no confirmation will be asked"}),", and ",n.jsx("b",{children:"no feedback will be provided"}),". Some actions may result in ",n.jsx("b",{children:"data being completely cleared!!!"})]})}),n.jsx("br",{}),n.jsx(p,{title:"System Notify",children:n.jsxs(u,{vertical:!0,children:[n.jsx(B,{onClick:()=>{W("Hi","This is Nomal Notify Without color",null,3,"info")},children:"Send Nomal Notify"}),n.jsx(B,{onClick:()=>{W("Hi","This is Notify With Light color",null,3,"error",!0,"light")},children:"Send Light Notify"}),n.jsx(B,{onClick:()=>{M("Hi","This is SystemNotify")?se.info("Done"):se.warning("Error")},children:"Send System Notify"})]})}),n.jsx("br",{}),n.jsx(p,{title:"log operation",children:n.jsx(B,{onClick:i,children:"Clear ALL Logs"})}),n.jsx("br",{}),n.jsx(p,{title:"Data Storage",children:n.jsx(B,{onClick:r,children:"Clear ALL Data"})}),n.jsx("br",{}),n.jsxs(p,{title:"UUID",children:[n.jsxs(e,{children:["Your UUID is ",o("uuid")]}),n.jsx(B,{onClick:()=>{const e=$();a("uuid",e)},children:"New UUID"})]})]})}function ie(){const{t:e}=L(),{Text:t}=d,[i,r]=s.useState(0),[a,j]=s.useState("hidden"),[y,b]=s.useState(!1),[x,O]=s.useState(!1),[C,I]=s.useState(!1),v=()=>{b(!y)},_=()=>{O(!x)},E=()=>{"PC"===c()?I(!0):W(e("Warning"),e("Tip_AI_Devices_NS"))},T=()=>{i>=8?(j("visible"),r(0)):r(i+1)};return n.jsxs(n.Fragment,{children:[n.jsxs(n.Fragment,{children:[n.jsx(p,{onClick:T,children:n.jsxs(g,{align:"left",children:[n.jsx(g.Item,{itemKey:e("App_name"),children:"铸造字识别系统"}),n.jsx(g.Item,{itemKey:e("Build_time"),children:o("buile_time")}),n.jsx(g.Item,{itemKey:e("Server_IP"),children:n.jsx(t,{link:{href:l(),target:"_blank"},children:o("server_ip")})}),n.jsx(g.Item,{itemKey:e("AI_Support"),children:n.jsxs(u,{children:[n.jsx(t,{children:o("ai_support")}),n.jsx(h,{content:n.jsx("article",{children:n.jsx(t,{children:e("Click to see more information about AI")})}),showArrow:!0,arrowPointAtCenter:!0,position:"top",children:n.jsx(S,{onClick:E,style:{color:"var(--semi-color-primary)"}})})]})})]})}),n.jsx("br",{}),n.jsxs(p,{onClick:_,shadows:"hover",style:{cursor:"pointer"},bodyStyle:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsx(m,{title:e("Server Info")}),n.jsx(f,{style:{color:"var(--semi-color-primary)"}})]}),n.jsx("br",{}),n.jsxs(p,{onClick:v,shadows:"hover",style:{cursor:"pointer",visibility:a},bodyStyle:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsx(m,{title:"BetaFunctionality"}),n.jsx(f,{style:{color:"var(--semi-color-primary)"}})]}),n.jsx(z,{style:{maxWidth:"100%"},title:"BetaFunc",visible:y,onCancel:v,children:n.jsx(ne,{})}),n.jsx(z,{width:"100%",title:e("Server Info"),visible:x,onCancel:_,children:n.jsx(H,{})})]}),n.jsx(D,{visible:C,handleOk:()=>{I(!1)}})]})}export{ie as default};
