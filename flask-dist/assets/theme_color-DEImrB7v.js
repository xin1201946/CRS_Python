import{a as e,s as o,g as t}from"./index-CiQzaChg.js";import{T as r}from"./theme-manager-Cd_MApBo.js";const a=(e,o,t)=>{const r=e&&getComputedStyle(null!=t?t:document.body).getPropertyValue(e)||o;return r&&!isNaN(r[0])?`rgba(${r})`:r},l=(e,o,t,r)=>{var l;return null!==(l=null==o?void 0:o.map(((o,l)=>{const{scheme:i}=t[l];return Object.assign(Object.assign({},o),{scheme:o.scheme.map(((o,t)=>a("object"==typeof o?o[e]:o,null==i?void 0:i[t],r)))})})))&&void 0!==l?l:t},i=(e,o,t,r)=>{if(o){const l={};return Object.keys(o).forEach((i=>{const s="object"==typeof o[i]?o[i][e]:o[i];l[i]=a(s,t[i],r)})),l}return t};class s{getCurrentMode(){return document.body.hasAttribute(this.themeModeAttribute)&&"dark"===document.body.getAttribute(this.themeModeAttribute)?"dark":"light"}generateThemeName(e){var o;const t=null!==(o=null==e?void 0:e.mode)&&void 0!==o?o:this.getCurrentMode();return`${this.themeNamePrefix}${t[0].toUpperCase()}${t.slice(1)}`}generateTheme(e,o){var t;const r=null!==(t=null==e?void 0:e.mode)&&void 0!==t?t:this.getCurrentMode(),a=this.baseTheme[r],{dataScheme:s,palette:n}=a.colorScheme.default,c={default:{dataScheme:l(r,this.tokenMap.dataScheme,s,o),palette:i(r,this.tokenMap.palette,n,o)}};return Object.assign(Object.assign({},a),{colorScheme:c})}constructor(e){var o;this.options=e,this.themeManager=null!==(o=e.themeManager)&&void 0!==o?o:r}init(){var e;const{defaultMode:o,isWatchingMode:t=!0}=null!==(e=this.options)&&void 0!==e?e:{};var r,a,l;this.switchVChartTheme(!1,{mode:o}),t&&(r=document.body,a=this.themeModeAttribute,l=()=>this.switchVChartTheme(),new MutationObserver((e=>{e.forEach((e=>{e.attributeName===a&&l(e)}))})).observe(r,{attributes:!0}))}switchVChartTheme(e,o,t){const r=this.generateThemeName(o);if(e||this.themeManager.getCurrentTheme()!==r){if(e&&this.themeManager.removeTheme(r),!this.themeManager.themeExist(r)){const e=null!=t?t:this.generateTheme(o);this.themeManager.registerTheme(r,e)}this.themeManager.setCurrentTheme(r)}}}const n=[{scheme:["#5769FF","#8ED4E7","#F58700","#DCB7FC","#4A9CF7","#F3CC35","#FE8090","#8BD7D2","#83B023","#E9A5E5","#30a7ce","#f9c064","#b171f9","#77b6f9","#c88f02","#ffaab2","#33b0ab","#b6d781","#d458d4","#bcc6ff"]}],c={default:{dataScheme:n,palette:{backgroundColor:"rgba(255,255,255,1)",borderColor:"rgba(28,31,35,0.08)",lineColor0:"rgba(107, 112, 117, 1)",lineColor1:"rgba(167, 171, 176, 1)",lineColor2:"rgba(198, 202, 205, 1)",shadowColor:"rgba(33,37,44,0.1)",hoverBackgroundColor:"rgba(55,58,67,0.05)",sliderRailColor:"#f1f3f4",sliderHandleColor:"#ffffff",sliderTrackColor:"#0040ff",popupBackgroundColor:"rgba(255,255,255,1)",primaryFontColor:"rgba(37,39,46,1)",secondaryFontColor:"rgba(37,39,46,0.8)",tertiaryFontColor:"rgba(37,39,46,0.6)",axisLabelFontColor:"#89909d",disableFontColor:"#bcc1cb",axisMarkerFontColor:"rgba(255,255,255,1)",axisGridColor:"rgba(198, 202, 205, 1)",axisDomainColor:"rgba(167, 171, 176, 1)",crosshairBackgroundColor:"rgba(55,58,67,0.05)",dataZoomHandleStrokeColor:"#aeb5be",dataZoomChartColor:"#c9ced8",playerControllerColor:"#0040ff",axisMarkerBackgroundColor:"#21252c",markLabelBackgroundColor:"#f1f2f5",markLineStrokeColor:"rgba(107, 112, 117, 1)",dangerColor:"#D63125",warningColor:"#F58700",successColor:"#2BA345",infoColor:"#1F80F5"}}},d={bar:{style:{opacity:1},state:{hover:{opacity:.8}}},point:{style:{size:8},state:{hover:{size:12}}},label:{style:{lineJoin:"bevel"}}},m={fontFamily:"Inter,-apple-system,BlinkMacSystemFont,Segoe UI,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif"},h={bar:{barMaxWidth:60,label:{style:{fill:{type:"palette",key:"secondaryFontColor"}}}},line:{line:{style:{lineWidth:2}},point:{style:{symbolType:"circle"}},label:{position:"top",offset:4,style:{fill:{type:"palette",key:"secondaryFontColor"}}}},pie:{outerRadius:1,innerRadius:.7,pie:{style:{padAngle:0},state:{hover:{outerRadius:1.02},selected:{outerRadius:1.02}}},label:{visible:!0,position:"outside"}},area:{line:{style:{lineWidth:2}},point:{style:{symbolType:"circle"}},area:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,fill:{gradient:"linear",x0:.5,y0:0,x1:.5,y1:1,stops:[{offset:0,opacity:.2},{offset:1,opacity:0}]}}},label:{position:"top",offset:4,style:{fill:{type:"palette",key:"secondaryFontColor"}}},seriesMark:"line"},radar:{line:{style:{lineWidth:2}},point:{style:{symbolType:"circle"}},area:{state:{hover:{fillOpacity:.5}}},label:{position:"top",offset:4,style:{fill:{type:"palette",key:"secondaryFontColor"}}}},funnel:{transform:{style:{fill:{type:"palette",key:"axisGridColor",a:.5}}}}},g=Object.assign(Object.assign(Object.assign({},{axis:{grid:{style:{lineWidth:1,lineDash:[4,4]}},domainLine:{style:{lineWidth:1,strokeOpacity:1}}},axisX:{label:{autoRotate:!0,autoRotateAngle:[0,-45]}},axisY:{label:{autoRotate:!0,autoRotateAngle:[0,-45]}}}),{discreteLegend:{visible:!0,position:"middle",padding:[16,24],title:{visible:!1},item:{visible:!0,spaceCol:16,spaceRow:16,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}}}},shape:{space:8,style:{symbolType:"circle",size:12},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:14,lineHeight:"130%",opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1}}),{crosshair:{trigger:"hover",bandField:{line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"crosshairBackgroundColor"},opacity:1,lineDash:[]}}},linearField:{line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"lineColor2"},opacity:1,lineDash:[2,3]}}}},tooltip:{offset:{x:16,y:16},panel:{padding:{top:20,left:20,right:20,bottom:20},backgroundColor:{type:"palette",key:"popupBackgroundColor"},border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:6},shadow:{x:0,y:4,blur:14,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:8,titleLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"bold",textAlign:"left",textBaseline:"middle",spacing:0},shape:{size:8,spacing:8},keyLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"secondaryFontColor"},textAlign:"left",textBaseline:"middle",spacing:32},valueLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"bold",textBaseline:"middle",spacing:0}}}),b={name:"semiDesignLight",description:"Semi Design - light",type:"light",token:m,colorScheme:c,markByName:d,series:h,component:g},p={name:"semiDesignDark",description:"Semi Design - dark",type:"dark",token:m,colorScheme:{default:{dataScheme:n,palette:{backgroundColor:"#16161a",borderColor:"rgba(255,255,255,0.08)",lineColor0:"rgba(136, 141, 146, 1)",lineColor1:"rgba(85, 91, 97, 1)",lineColor2:"rgba(65, 70, 76, 1)",shadowColor:"rgba(0,0,0,0.25)",hoverBackgroundColor:"rgba(255,255,255,0.12)",sliderRailColor:"rgba(255,255,255,0.12)",sliderHandleColor:"#e4e7f5",sliderTrackColor:"rgba(84,169,255,1)",popupBackgroundColor:"#43444a",primaryFontColor:"rgba(249,249,249,1)",secondaryFontColor:"rgba(249,249,249,0.8)",tertiaryFontColor:"rgba(249,249,249,0.6)",axisLabelFontColor:"rgba(249,249,249,0.6)",disableFontColor:"rgba(249,249,249,0.35)",axisMarkerFontColor:"#16161a",axisGridColor:"rgba(65, 70, 76, 1)",axisDomainColor:"rgba(85, 91, 97, 1)",crosshairBackgroundColor:"rgba(55,58,67,0.05)",dataZoomHandleStrokeColor:"rgba(46,50,56,0.13)",dataZoomChartColor:"rgba(255,255,255,0.16)",playerControllerColor:"rgba(84,169,255,1)",axisMarkerBackgroundColor:"rgba(249,249,249,1)",markLabelBackgroundColor:"rgba(255,255,255,0.08)",markLineStrokeColor:"rgba(249,249,249,0.8)",dangerColor:"rgba(252,114,90,1)",warningColor:"rgba(255,174,67,1)",successColor:"rgba(93,194,100,1)",infoColor:"rgba(84,169,255,1)"}}},markByName:d,series:h,component:g},u={backgroundColor:"--semi-color-bg-0",borderColor:"--semi-color-border",lineColor0:"--semi-grey-5",lineColor1:"--semi-grey-3",lineColor2:"--semi-grey-2",hoverBackgroundColor:"--semi-color-fill-0",sliderRailColor:"--semi-color-fill-0",sliderHandleColor:"--semi-white",sliderTrackColor:"--semi-color-primary",popupBackgroundColor:{light:"--semi-color-bg-0",dark:"--semi-color-bg-3"},primaryFontColor:"--semi-color-text-0",secondaryFontColor:"--semi-color-text-1",tertiaryFontColor:"--semi-color-text-2",axisLabelFontColor:"--semi-color-text-2",disableFontColor:"--semi-color-disabled-text",axisMarkerFontColor:"--semi-color-bg-0",axisGridColor:"--semi-grey-2",axisDomainColor:"--semi-grey-3",crosshairBackgroundColor:"--semi-color-fill-0",dataZoomHandleStrokeColor:{light:"--semi-color-fill-2"},dataZoomChartColor:"--semi-color-fill-1",playerControllerColor:"--semi-color-primary",axisMarkerBackgroundColor:"--semi-color-text-0",markLabelBackgroundColor:"--semi-color-border",markLineStrokeColor:"--semi-grey-5",dangerColor:"--semi-color-danger",warningColor:"--semi-color-warning",successColor:"--semi-color-success",infoColor:"--semi-color-info"},y=[{scheme:["--semi-color-data-0","--semi-color-data-1","--semi-color-data-2","--semi-color-data-3","--semi-color-data-4","--semi-color-data-5","--semi-color-data-6","--semi-color-data-7","--semi-color-data-8","--semi-color-data-9","--semi-color-data-10","--semi-color-data-11","--semi-color-data-12","--semi-color-data-13","--semi-color-data-14","--semi-color-data-15","--semi-color-data-16","--semi-color-data-17","--semi-color-data-18","--semi-color-data-19"]}];class C extends s{constructor(){super(...arguments),this.themeModeAttribute=C.themeModeAttribute,this.themeNamePrefix=C.themeNamePrefix,this.baseTheme={light:b,dark:p},this.tokenMap={dataScheme:y,palette:u}}init(){var e;super.init();const{isWatchingThemeSwitch:o=!1}=null!==(e=this.options)&&void 0!==e?e:{};var t;o&&(t=()=>{const e={mode:this.getCurrentMode()},o=JSON.stringify(this.generateTheme(e).colorScheme);let t=0;const r=setInterval((()=>{const a=this.generateTheme(e);(t>50||o!==JSON.stringify(a.colorScheme))&&(this.switchVChartTheme(!0,e,a),clearInterval(r)),t++}),100)},new MutationObserver((e=>{e.forEach((e=>{var o;if(1===e.addedNodes.length){const r=e.addedNodes[0];"LINK"===r.tagName&&"true"===(null===(o=r.getAttribute)||void 0===o?void 0:o.call(r,"semi-theme-switcher"))&&t(e,r)}}))})).observe(document.body,{childList:!0}))}}C.themeModeAttribute="theme-mode",C.themeNamePrefix="semiDesign";(()=>{const e=new C({});e.init()})();const f=window.matchMedia("(prefers-color-scheme: dark)"),k=document.body;function v(){try{f.removeEventListener("change",F),e("removeThemeListener","successfully")}catch(o){e("removeThemeListener","warning","Can`t remove Theme listener:"+o)}}function x(t){t?(k.setAttribute("theme-mode","dark"),o("theme_color","dark"),e("setTheme:Dark","successfully")):(k.removeAttribute("theme-mode"),o("theme_color","light"),e("setTheme:Light","successfully"))}function F(){const e=document.body;f.matches?e.hasAttribute("theme-mode")||e.setAttribute("theme-mode","dark"):e.hasAttribute("theme-mode")&&e.removeAttribute("theme-mode")}function S(){e("TrySetTheme:Dark","successfully"),v(),x(!0),window.dispatchEvent(new CustomEvent("themeChange",{detail:"dark"}))}function T(){e("TrySetTheme:Light","successfully"),v(),x(!1),window.dispatchEvent(new CustomEvent("themeChange",{detail:"light"}))}function M(){e("TrySetTheme:Auto","successfully"),F(),o("theme_color","auto"),f.addEventListener("change",F),window.dispatchEvent(new CustomEvent("themeChange",{detail:"auto"}))}function w(e){"light"===e?T():"dark"===e&&S()}function B(){return t("theme_color")}export{T as a,S as b,B as g,w as q,M as s};
