import{c as e,bT as t,b4 as a,B as s,i as o,D as n,k as i,m as r,p as d,T as l}from"./AppContent-DzAY2IDB.js";import{r as c,b as u,R as h,P as p}from"./index-CCsViYEm.js";import{a as b}from"./index-D05P_SgG.js";const f=e((function(e){return c.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),c.createElement("circle",{cx:12,cy:12,r:5,fill:"currentColor"}))}),"radio");var g,m;const y=u(function(){if(m)return g;m=1;var e=t(),s=a();return g=function(t){return!0===t||!1===t||s(t)&&"[object Boolean]"==e(t)}}()),v={PREFIX:`${s}-radio`},C={PREFIX:`${s}-radioGroup`},x=["horizontal","vertical"],k="horizontal",O=["advanced",""],$="default",I="button",E="card",R="pureCard",P=["middle","small","large"];class j extends o{constructor(e){super(Object.assign({},e))}init(){const e=this._getDisplayValue();this._setValue(e)}_getDisplayValue(){const{value:e,defaultValue:t}=this.getProps();let a;return"value"in this.getProps()?a=e:"defaultValue"in this.getProps()&&(a=t),a}handleChange(e){const t=this.getProp("mode"),a=this.getState("value"),{checked:s,value:o}=e.target,n=this._adapter.isInProps("value"),i=Object.assign(Object.assign({},e),{target:Object.assign(Object.assign({},e.target),{value:o})});"advanced"!==t||s||(i.target.value=void 0),n||("advanced"!==t||s?this._setValue(o):this._setValue(void 0)),"advanced"!==t&&a===o||this._adapter.notifyChange(i)}handlePropValueChange(e){this._setValue(e)}_setValue(e){this._adapter.setValue(e)}destroy(){}}class _ extends o{constructor(){super(...arguments),this.handleFocusVisible=e=>{const{target:t}=e;try{t.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch(a){n(!0,"Warning: [Semi Radio] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)}}init(){const{children:e,extra:t,extraId:a,addonId:s}=this._adapter.getProps();e&&!s&&this._adapter.setAddonId(),t&&!a&&this._adapter.setExtraId()}setHover(e){this._adapter.setHover(e)}setChecked(e){this._adapter.setChecked(e)}}class G extends o{constructor(e){super(Object.assign({},e))}init(){const e=this._adapter.getProp("checked"),t=this._adapter.getProp("defaultChecked");this.setChecked(e||t)}setChecked(e){this._adapter.setNativeControlChecked(e)}getChecked(){return this._adapter.getProp("checked")}handleChange(e){const t="checked"in this.getProps(),{checked:a}=e.target,s={target:Object.assign(Object.assign({},this.getProps()),{checked:a}),stopPropagation:()=>{e.stopPropagation()},preventDefault:()=>{e.preventDefault()}};t||this.setChecked(a),this._adapter.notifyChange(s)}destroy(){}}const N=h.createContext(null);class S extends i{constructor(e){super(e),this.state={checked:!1},this.foundation=new G(this.adapter),this.onChange=this.onChange.bind(this)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({checked:e})},notifyChange:e=>{this.props.onChange(e)}})}componentDidMount(){this.foundation.init()}componentDidUpdate(e){e.checked!==this.props.checked&&this.foundation.setChecked(this.props.checked)}componentWillUnmount(){this.foundation.destroy()}blur(){this.inputEntity.blur()}focus(){const{preventScroll:e}=this.props;this.inputEntity.focus({preventScroll:e})}onChange(e){this.foundation.handleChange(e)}render(){const{disabled:e,mode:t,autoFocus:a,name:s,isButtonRadio:o,isPureCardRadioGroup:n,addonId:i,extraId:d,"aria-label":l,focusInner:c,onInputFocus:u,onInputBlur:p}=this.props,{checked:b}=this.state,g=this.props.prefixCls||v.PREFIX,m=r({[`${g}-inner`]:!0,[`${g}-inner-checked`]:Boolean(b),[`${g}-inner-buttonRadio`]:o,[`${g}-inner-pureCardRadio`]:n}),y=r({[`${g}-focus`]:c,[`${g}-focus-border`]:c&&!b,[`${g}-inner-display`]:!o});return h.createElement("span",{className:m},h.createElement("input",{ref:e=>{this.inputEntity=e},autoFocus:a,type:"advanced"===t?"checkbox":"radio",checked:Boolean(b),disabled:e,onChange:this.onChange,name:s,"aria-label":l,"aria-labelledby":i,"aria-describedby":d,onFocus:u,onBlur:p}),h.createElement("span",{className:y},b?h.createElement(f,null):null))}}S.contextType=N,S.propTypes={checked:p.bool,disabled:p.bool,isButtonRadio:p.bool,onChange:p.func,mode:p.oneOf(["advanced",""]),"aria-label":p.string,focusInner:p.bool,onInputFocus:p.func,onInputBlur:p.func,preventScroll:p.bool},S.defaultProps={onChange:d,isButtonRadio:!1};class V extends i{constructor(e){super(e),this.onChange=e=>{const{onChange:t}=this.props;if(this.isInGroup()){const{radioGroup:t}=this.context;t.onChange&&t.onChange(e)}!("checked"in this.props)&&this.foundation.setChecked(e.target.checked),t&&t(e)},this.handleMouseEnter=e=>{this.props.onMouseEnter(e),this.foundation.setHover(!0)},this.handleMouseLeave=e=>{this.props.onMouseLeave(e),this.foundation.setHover(!1)},this.handleFocusVisible=e=>{this.foundation.handleFocusVisible(e)},this.handleBlur=e=>{this.foundation.handleBlur()},this.state={hover:!1,addonId:e.addonId,extraId:e.extraId,checked:e.checked||e.defaultChecked||!1},this.foundation=new _(this.adapter),this.radioEntity=null}componentDidUpdate(e){this.props.checked!==e.checked&&(b(this.props.checked)?this.foundation.setChecked(!1):y(this.props.checked)&&this.foundation.setChecked(this.props.checked))}get adapter(){return Object.assign(Object.assign({},super.adapter),{setHover:e=>{this.setState({hover:e})},setAddonId:()=>{this.setState({addonId:l({prefix:"addon"})})},setChecked:e=>{this.setState({checked:e})},setExtraId:()=>{this.setState({extraId:l({prefix:"extra"})})},setFocusVisible:e=>{this.setState({focusVisible:e})}})}isInGroup(){return this.context&&this.context.radioGroup}focus(){this.radioEntity.focus()}blur(){this.radioEntity.blur()}render(){const e=this.props,{addonClassName:t,addonStyle:a,disabled:s,style:o,className:n,prefixCls:i,displayMode:d,children:l,extra:c,mode:u,type:p,value:b,name:f}=e,g=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(a[s[o]]=e[s[o]])}return a}(e,["addonClassName","addonStyle","disabled","style","className","prefixCls","displayMode","children","extra","mode","type","value","name"]);let m,y,C,x,k,O,$,P,j;const{hover:_,addonId:G,extraId:N,focusVisible:V,checked:B}=this.state,F={checked:B,disabled:s};this.isInGroup()?(m=this.context.radioGroup.value===b,y=s||this.context.radioGroup.disabled,C=this.context.mode,x=this.context.radioGroup.isButtonRadio,k=this.context.radioGroup.isCardRadio,O=this.context.radioGroup.isPureCardRadio,P=this.context.radioGroup.buttonSize,j=i||this.context.radioGroup.prefixCls,F.checked=m,F.disabled=y):(m=B,y=s,C=u,$="button"===p,j=i,x=p===I,O=p===R,k=p===E||O);const w=void 0===x?$:x,M=j||v.PREFIX,D=k||O||w,T=r(M,{[`${M}-disabled`]:y,[`${M}-checked`]:m,[`${M}-${d}`]:Boolean(d),[`${M}-buttonRadioComponent`]:$,[`${M}-buttonRadioGroup`]:x,[`${M}-buttonRadioGroup-${P}`]:x&&P,[`${M}-cardRadioGroup`]:k,[`${M}-cardRadioGroup_disabled`]:y&&k,[`${M}-cardRadioGroup_checked`]:k&&m&&!y,[`${M}-cardRadioGroup_checked_disabled`]:k&&m&&y,[`${M}-cardRadioGroup_hover`]:k&&!m&&_&&!y,[n]:Boolean(n),[`${M}-focus`]:V&&(k||O)}),z=this.isInGroup()&&this.context.radioGroup.name,L=r({[`${M}-addon`]:!w,[`${M}-addon-buttonRadio`]:w,[`${M}-addon-buttonRadio-checked`]:w&&m,[`${M}-addon-buttonRadio-disabled`]:w&&y,[`${M}-addon-buttonRadio-hover`]:w&&!m&&!y&&_,[`${M}-addon-buttonRadio-${P}`]:w&&P,[`${M}-focus`]:V&&w},t);return h.createElement("label",Object.assign({style:o,className:T,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this.getDataAttr(g)),h.createElement(S,Object.assign({},this.props,F,{mode:C,name:null!=f?f:z,isButtonRadio:w,isPureCardRadioGroup:O,onChange:this.onChange,ref:e=>{this.radioEntity=e},addonId:l&&G,extraId:c&&N,focusInner:V&&!D,onInputFocus:this.handleFocusVisible,onInputBlur:this.handleBlur})),l||c?h.createElement("div",{className:r([`${M}-content`,{[`${M}-isCardRadioGroup_content`]:k}])},l?h.createElement("span",{className:L,style:a,id:G,"x-semi-prop":"children"},l):null,c&&!w?h.createElement("div",{className:`${M}-extra`,id:N,"x-semi-prop":"extra"},c):null):null)}}V.contextType=N,V.propTypes={autoFocus:p.bool,checked:p.bool,defaultChecked:p.bool,value:p.any,style:p.object,className:p.string,disabled:p.bool,prefixCls:p.string,displayMode:p.oneOf(["vertical",""]),onChange:p.func,onMouseEnter:p.func,onMouseLeave:p.func,mode:p.oneOf(O),extra:p.node,addonStyle:p.object,addonClassName:p.string,type:p.oneOf([$,I,E,R]),"aria-label":p.string,preventScroll:p.bool},V.defaultProps={autoFocus:!1,defaultChecked:!1,value:void 0,style:void 0,onMouseEnter:d,onMouseLeave:d,mode:"",type:"default"},V.elementType="Radio";class B extends i{constructor(e){super(e),this.onChange=e=>{this.foundation.handleChange(e)},this.getFormatName=()=>this.props.name||"default",this.state={value:e.value||e.defaultValue},this.foundation=new j(this.adapter)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){"number"==typeof e.value&&isNaN(e.value)&&"number"==typeof this.props.value&&isNaN(this.props.value)||e.value!==this.props.value&&this.foundation.handlePropValueChange(this.props.value)}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>{this.setState({value:e})},getProps:()=>this.props,isInProps:e=>Boolean(e in this.props),notifyChange:e=>{this.props.onChange&&this.props.onChange(e)}})}render(){const e=this.props,{children:t,options:a,mode:s,prefixCls:o,className:n,style:i,direction:d,type:l,buttonSize:c,id:u}=e,p=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(a[s[o]]=e[s[o]])}return a}(e,["children","options","mode","prefixCls","className","style","direction","type","buttonSize","id"]),b=l===I,f=l===R,g=l===E||f,m=l===$,y=o||C.PREFIX,v=r(n,{[y]:!0,[`${y}-wrapper`]:!0,[`${y}-${d}`]:d&&!b,[`${y}-${d}-default`]:d&&m,[`${y}-${d}-card`]:d&&g,[`${y}-buttonRadio`]:b}),x=this.state.value;let k;return a?k=(a||[]).map(((e,t)=>"string"==typeof e?h.createElement(V,{key:t,disabled:this.props.disabled,value:e},e):h.createElement(V,{key:t,disabled:e.disabled||this.props.disabled,value:e.value,extra:e.extra,className:e.className,style:e.style},e.label))):t&&(k=h.Children.map(t,((e,t)=>h.isValidElement(e)?h.cloneElement(e,{key:t}):null))),h.createElement("div",Object.assign({className:v,style:i,id:u,"aria-label":this.props["aria-label"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},this.getDataAttr(p)),h.createElement(N.Provider,{value:{radioGroup:{onChange:this.onChange,value:x,disabled:this.props.disabled,name:this.getFormatName(),isButtonRadio:b,isCardRadio:g,isPureCardRadio:f,buttonSize:c,prefixCls:o},mode:s}},k))}}B.propTypes={defaultValue:p.any,disabled:p.bool,name:p.string,options:p.array,buttonSize:p.oneOf(P),type:p.oneOf([$,I,E,R]),value:p.any,onChange:p.func,children:p.node,prefixCls:p.string,className:p.string,style:p.object,direction:p.oneOf(x),mode:p.oneOf(O),"aria-label":p.string,"aria-describedby":p.string,"aria-errormessage":p.string,"aria-invalid":p.bool,"aria-labelledby":p.string,"aria-required":p.bool,id:p.string},B.defaultProps={disabled:!1,onChange:d,direction:k,mode:"",type:$,buttonSize:"middle"};class F extends V{}F.Group=B;export{B as R,y as _,F as a,V as b};
